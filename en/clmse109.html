<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Standard Streams</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,next,fn-in,charset=utf-8,sections+,minitoc<,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-06-19 08:48:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
<link rel="stylesheet" type="text/css" href="../cltl2ed.css"></head><body 
>
   <div id="toplinks"> &lt;<a href="../index.html">Main Page</a>&gt; &lt;<a href="symbols.html">Symbols</a>&gt; <br> &#x003C;<a 
href="clmse110.html" >Next</a>&#x003E;&#x003C;<a 
href="stream.html" >Prev</a>&#x003E;&#x003C;<a 
href="stream.html#tailstream.html" >PrevTail</a>&#x003E;&#x003C;<a 
href="#tailclmse109.html">Tail</a>&#x003E;&#x003C;<a 
href="stream.html#clmse109.html" >Up</a>&#x003E;</div><h3 class="sectionHead"><span class="titlemark">21.1   </span> <a 
href="clm.html#QQ2-135-208" id="x135-17800021.1">Standard Streams</a></h3>
<!--l. 31--><p class="noindent" >There are several variables whose values are streams used by many functions in
the Lisp system. These variables and their uses are listed here. By convention,
variables that are expected to hold a stream capable of input have names ending
with <b>-input</b>, and variables that are expected to hold a stream capable of output
have names ending with <b>-output</b>. Variables expected to hold a bidirectional
stream have names ending with <b>-io</b>.
<div class="defun">
<div class="defunheader">
<em>
<!--l. 41--><p class="noindent" >[Variable]</em><a 
 id="dx135-178001"></a> <b>*standard-input*</b>
</div>
<!--l. 43--><p class="indent" >   In the normal Lisp top-level loop, input is read from <b><a 
href="symbols.html#x188-376050r50">*standard-input*</a></b> (that
is, whatever stream is the value of the global variable <b><a 
href="symbols.html#x188-376050r50">*standard-input*</a></b>). Many
                                                                          

                                                                          
input functions, including <b><a 
href="symbols.html#x188-376767r767">read</a></b> and <b><a 
href="symbols.html#x188-376769r769">read-char</a></b>, take a stream argument that
defaults to <b><a 
href="symbols.html#x188-376050r50">*standard-input*</a></b>.
<hr></div>
<div class="defun">
<div class="defunheader">
<em>
<!--l. 51--><p class="noindent" >[Variable]</em><a 
 id="dx135-178002"></a> <b>*standard-output*</b>
</div>
<!--l. 53--><p class="indent" >   In the normal Lisp top-level loop, output is sent to <b><a 
href="symbols.html#x188-376051r51">*standard-output*</a></b> (that
is, whatever stream is the value of the global variable <b><a 
href="symbols.html#x188-376051r51">*standard-output*</a></b>).
Many output functions, including <b><a 
href="symbols.html#x188-376740r740">print</a></b> and <b><a 
href="symbols.html#x188-377017r1017">write-char</a></b>, take a stream argument
that defaults to <b><a 
href="symbols.html#x188-376051r51">*standard-output*</a></b>.
<hr></div>
<div class="defun">
<div class="defunheader">
<em>
<!--l. 61--><p class="noindent" >[Variable]</em><a 
 id="dx135-178003"></a> <b>*error-output*</b>
</div>
<!--l. 63--><p class="indent" >   The value of <b><a 
href="symbols.html#x188-376017r17">*error-output*</a></b> is a stream to which error messages
should be sent. Normally this is the same as <b><a 
href="symbols.html#x188-376051r51">*standard-output*</a></b>, but
<b><a 
href="symbols.html#x188-376051r51">*standard-output*</a></b> might be bound to a ﬁle and <b><a 
href="symbols.html#x188-376017r17">*error-output*</a></b> left going to
the terminal or to a separate ﬁle of error messages.
<hr></div>
<div class="defun">
<div class="defunheader">
<em>
<!--l. 70--><p class="noindent" >[Variable]</em><a 
 id="dx135-178004"></a> <b>*query-io*</b>
</div>
<!--l. 72--><p class="indent" >   The value of <b><a 
href="symbols.html#x188-376042r42">*query-io*</a></b> is a stream to be used when asking questions of the
user. The question should be output to this stream, and the answer read from it.
When the normal input to a program may be coming from a ﬁle, questions such as
“Do you really want to delete all of the ﬁles in your directory?” should
nevertheless be sent directly to the user; and the answer should come from the
                                                                          

                                                                          
user, not from the data ﬁle. For such purposes <b><a 
href="symbols.html#x188-376042r42">*query-io*</a></b> should be used instead
of <b><a 
href="symbols.html#x188-376050r50">*standard-input*</a></b> and <b><a 
href="symbols.html#x188-376051r51">*standard-output*</a></b>. <b><a 
href="symbols.html#x188-376042r42">*query-io*</a></b> is used by such
functions as <b><a 
href="symbols.html#x188-377024r1024">yes-or-no-p</a></b>.
<hr></div>
<div class="defun">
<div class="defunheader">
<em>
<!--l. 86--><p class="noindent" >[Variable]</em><a 
 id="dx135-178005"></a> <b>*debug-io*</b>
</div>
<!--l. 88--><p class="indent" >   The value of <b><a 
href="symbols.html#x188-376014r14">*debug-io*</a></b> is a stream to be used for interactive debugging
purposes. This is often the same as the value of <b><a 
href="symbols.html#x188-376042r42">*query-io*</a></b>, but need not
be.
<hr></div>
<div class="defun">
<div class="defunheader">
<em>
<!--l. 94--><p class="noindent" >[Variable]</em><a 
 id="dx135-178006"></a> <b>*terminal-io*</b>
</div>
<!--l. 96--><p class="indent" >   The value of <b><a 
href="symbols.html#x188-376052r52">*terminal-io*</a></b> is ordinarily the stream that connects to the
user&#x2019;s console. Typically, writing to this stream would cause the output to appear
on a display screen, for example, and reading from the stream would accept input
from a keyboard.
<!--l. 102--><p class="indent" >   It is intended that standard input functions such as <b><a 
href="symbols.html#x188-376767r767">read</a></b> and <b><a 
href="symbols.html#x188-376769r769">read-char</a></b>,
when used with this stream, would cause “echoing” of the input into the output
side of the stream. (The means by which this is accomplished are of course highly
implementation-dependent.)
<hr></div>
<div class="defun">
<div class="defunheader">
<em>
<!--l. 110--><p class="noindent" >[Variable]</em><a 
 id="dx135-178007"></a> <b>*trace-output*</b>
</div>
<!--l. 112--><p class="indent" >   The value of <b><a 
href="symbols.html#x188-376053r53">*trace-output*</a></b> is the stream on which the <b><a 
href="symbols.html#x188-376953r953">trace</a></b> function
                                                                          

                                                                          
prints its output.
<hr></div>
<!--l. 116--><p class="indent" >   The variables <b><a 
href="symbols.html#x188-376050r50">*standard-input*</a></b>, <b><a 
href="symbols.html#x188-376051r51">*standard-output*</a></b>, <b><a 
href="symbols.html#x188-376017r17">*error-output*</a></b>,
<b><a 
href="symbols.html#x188-376053r53">*trace-output*</a></b>, <b><a 
href="symbols.html#x188-376042r42">*query-io*</a></b>, and <b><a 
href="symbols.html#x188-376014r14">*debug-io*</a></b> are initially bound to synonym
streams that pass all operations on to the stream that is the value of
<b><a 
href="symbols.html#x188-376052r52">*terminal-io*</a></b>. (See <b><a 
href="symbols.html#x188-376597r597">make-synonym-stream</a></b>.) Thus any operations performed
on those streams will go to the terminal.
<div class="new">
<!--l. 127--><p class="indent" >   X3J13 voted in January 1989 <a 
 id="dx135-178008"></a>to replace the requirements of the preceding
paragraph with the following new requirements:
<!--l. 132--><p class="indent" >   The seven standard stream variables, <b><a 
href="symbols.html#x188-376050r50">*standard-input*</a></b>, <b><a 
href="symbols.html#x188-376051r51">*standard-output*</a></b>,
<b><a 
href="symbols.html#x188-376042r42">*query-io*</a></b>, <b><a 
href="symbols.html#x188-376014r14">*debug-io*</a></b>, <b><a 
href="symbols.html#x188-376052r52">*terminal-io*</a></b>, <b><a 
href="symbols.html#x188-376017r17">*error-output*</a></b>, and <b><a 
href="symbols.html#x188-376053r53">*trace-output*</a></b>,
are initially bound to open streams. (These will be called <em>the standard initial
streams</em>.)
<!--l. 140--><p class="indent" >   The streams that are the initial values of <b><a 
href="symbols.html#x188-376050r50">*standard-input*</a></b>, <b><a 
href="symbols.html#x188-376042r42">*query-io*</a></b>,
<b><a 
href="symbols.html#x188-376014r14">*debug-io*</a></b>, and <b><a 
href="symbols.html#x188-376052r52">*terminal-io*</a></b> must support input.
<!--l. 144--><p class="indent" >   The streams that are the initial values of <b><a 
href="symbols.html#x188-376051r51">*standard-output*</a></b>, <b><a 
href="symbols.html#x188-376017r17">*error-output*</a></b>,
<b><a 
href="symbols.html#x188-376053r53">*trace-output*</a></b>, <b><a 
href="symbols.html#x188-376042r42">*query-io*</a></b>, <b><a 
href="symbols.html#x188-376014r14">*debug-io*</a></b>, and <b><a 
href="symbols.html#x188-376052r52">*terminal-io*</a></b> must support
output.
<!--l. 150--><p class="indent" >   None of the standard initial streams (including the one to which
<b><a 
href="symbols.html#x188-376052r52">*terminal-io*</a></b> is initially bound) may be a synonym, either directly or
indirectly, for any of the standard stream variables except <b><a 
href="symbols.html#x188-376052r52">*terminal-io*</a></b>. For
example, the initial value of <b><a 
href="symbols.html#x188-376053r53">*trace-output*</a></b> may be a synonym stream for
<b><a 
href="symbols.html#x188-376052r52">*terminal-io*</a></b> but not a synonym stream for <b><a 
href="symbols.html#x188-376051r51">*standard-output*</a></b> or
<b><a 
href="symbols.html#x188-376042r42">*query-io*</a></b>. (These are examples of direct synonyms.) As another example,
<b><a 
href="symbols.html#x188-376042r42">*query-io*</a></b> may be a two-way stream or echo stream whose input component is a
synonym for <b><a 
href="symbols.html#x188-376052r52">*terminal-io*</a></b>, but its input component may not be a synonym
for <b><a 
href="symbols.html#x188-376050r50">*standard-input*</a></b> or <b><a 
href="symbols.html#x188-376014r14">*debug-io*</a></b>. (These are examples of indirect
synonyms.)
<!--l. 162--><p class="indent" >   Any or all of the standard initial streams may be direct or indirect
synonyms for one or more common implementation-dependent streams. For
example, the standard initial streams might all be synonym streams (or
two-way or echo streams whose components are synonym streams) to
a pair of hidden terminal input and output streams maintained by the
implementation.
<!--l. 169--><p class="indent" >   Part of the intent of these rules is to ensure that it is always safe to bind any
standard stream variable to the value of any other standard stream variable
(that is, unworkable circularities are avoided) without unduly restricting
                                                                          

                                                                          
implementation ﬂexibility.
</div>
<!--l. 175--><p class="indent" >   No user program should ever change the value of <b><a 
href="symbols.html#x188-376052r52">*terminal-io*</a></b>. A program
that wants (for example) to divert output to a ﬁle should do so by binding the
value of <b><a 
href="symbols.html#x188-376051r51">*standard-output*</a></b>; that way error messages sent to <b><a 
href="symbols.html#x188-376017r17">*error-output*</a></b>
can still get to the user by going through <b><a 
href="symbols.html#x188-376052r52">*terminal-io*</a></b>, which is usually what is
desired.
                                                                          

                                                                          
<!--l. 181--><p class="indent" >   <div id="bottomlinks">&#x003C;<a 
href="clmse110.html" >Next</a>&#x003E;&#x003C;<a 
href="stream.html" >Prev</a>&#x003E;&#x003C;<a 
href="stream.html#tailstream.html" >PrevTail</a>&#x003E;&#x003C;<a 
href="clmse109.html" >Front</a>&#x003E;&#x003C;<a 
href="stream.html#clmse109.html" >Up</a>&#x003E;<br>&lt;<a href="../index.html">Main Page</a>&gt; &lt;<a href="symbols.html">Symbols</a>&gt; </div><a 
 id="tailclmse109.html"></a>  
</body></html> 

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Arithmetic Operations</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,next,fn-in,charset=utf-8,sections+,minitoc<,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-05-16 16:58:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
<link rel="stylesheet" type="text/css" href="../cltl2ed.css"></head><body 
>
   <div id="toplinks"> &lt;<a href="../index.html">Main Page</a>&gt; &lt;<a href="symbols.html">Symbols</a>&gt; <br> &#x003C;<a 
href="clmse68.html" >Next</a>&#x003E;&#x003C;<a 
href="clmse66.html" >Prev</a>&#x003E;&#x003C;<a 
href="clmse66.html#tailclmse66.html" >PrevTail</a>&#x003E;&#x003C;<a 
href="#tailclmse67.html">Tail</a>&#x003E;&#x003C;<a 
href="number.html#clmse67.html" >Up</a>&#x003E;</div><h3 class="sectionHead"><span class="titlemark">12.4   </span> <a 
href="clm.html#QQ2-84-130" id="x84-12100012.4">Arithmetic Operations</a></h3>
<!--l. 417--><p class="noindent" >Each of the functions in this section requires that its arguments all be numbers; to
call one with a non-number is an error. Unless otherwise speciﬁed, each works on
all types of numbers, automatically performing any required coercions when
arguments are of diﬀerent types.
<div class="defun">
<div class="defunheader">
<em>
<!--l. 423--><p class="noindent" >[Function]</em><a 
 id="dx84-121001"></a> <b>+</b> <tt><a 
href="clmse29.html#x39-620005.2.2">&#x0026;rest</a></tt> <i>numbers</i>
</div>
<!--l. 425--><p class="indent" >   This returns the sum of the arguments. If there are no arguments, the result is
<b>0</b>, which is an identity for this operation.
<hr></div>
<div class="defun">
<div class="defunheader">
<em>
<!--l. 430--><p class="noindent" >[Function]</em><a 
 id="dx84-121002"></a> <b>-</b> <i>number</i> <tt><a 
href="clmse29.html#x39-620005.2.2">&#x0026;rest</a></tt> <i>more-numbers</i>
</div>
<!--l. 432--><p class="indent" >   The function <b><a 
href="symbols.html#x188-375057r57">-</a></b>, when given one argument, returns the negative of that
argument.
<!--l. 435--><p class="indent" >   The function <b><a 
href="symbols.html#x188-375057r57">-</a></b>, when given more than one argument, successively subtracts
from the ﬁrst argument all the others, and returns the result. For example, <b>(- 3 4
5)</b> <span class="math"> ⇒</span> <b>-6</b>.
<hr></div>
<div class="defun">
<div class="defunheader">
<em>
                                                                          

                                                                          
<!--l. 441--><p class="noindent" >[Function]</em><a 
 id="dx84-121003"></a> <b>*</b> <tt><a 
href="clmse29.html#x39-620005.2.2">&#x0026;rest</a></tt> <i>numbers</i>
</div>
<!--l. 443--><p class="indent" >   This returns the product of the arguments. If there are no arguments, the
result is <b>1</b>, which is an identity for this operation.
<hr></div>
<div class="defun">
<div class="defunheader">
<em>
<!--l. 449--><p class="noindent" >[Function]</em><a 
 id="dx84-121004"></a> <b>/</b> <i>number</i> <tt><a 
href="clmse29.html#x39-620005.2.2">&#x0026;rest</a></tt> <i>more-numbers</i>
</div>
<!--l. 451--><p class="indent" >   The function <b><a 
href="symbols.html#x188-375058r58">/</a></b>, when given more than one argument, successively divides the
ﬁrst argument by all the others and returns the result.
<!--l. 454--><p class="indent" >   It is generally accepted that it is an error for any argument other than the ﬁrst
to be zero.
<!--l. 457--><p class="indent" >   With one argument, <b><a 
href="symbols.html#x188-375058r58">/</a></b> reciprocates the argument.
<!--l. 459--><p class="indent" >   It is generally accepted that it is an error in this case for the argument to be
zero.
<b>
<!--l. 462--><p class="indent" >   <a 
href="symbols.html#x188-375058r58">/</a></b> will produce a ratio if the mathematical quotient of two integers is not an
exact integer. For example: <div class="lisp"><tt><div class="tabbing">
(/ 12 4) <span class="math"> ⇒</span> 3
   <br>                          (/ 13 4) <span class="math"> ⇒</span> 13/4<br>                          (/ -8) <span class="math"> ⇒</span> -1/8<br>
(/ 3 4 5) <span class="math"> ⇒</span> 3/20<br>
<!--l. 469--><p class="noindent" ></div>
</tt>
</div>
<!--l. 470--><p class="indent" >   To divide one integer by another producing an integer result, use one of the
functions <b><a 
href="symbols.html#x188-375422r422">ﬂoor</a></b>, <b><a 
href="symbols.html#x188-375198r198">ceiling</a></b>, <b><a 
href="symbols.html#x188-375956r956">truncate</a></b>, or <b><a 
href="symbols.html#x188-375810r810">round</a></b>.
<!--l. 474--><p class="indent" >   If any argument is a ﬂoating-point number, then the rules of ﬂoating-point
contagion apply.
<hr></div>
<div class="defun">
                                                                          

                                                                          
<div class="defunheader">
<em>
<!--l. 479--><p class="noindent" >[Function]</em><a 
 id="dx84-121005"></a> <b>1+</b> <i>number</i><br />
<em>
[Function]</em><a 
 id="dx84-121006"></a> <b>1-</b> <i>number</i>
</div>
<b>
<!--l. 482--><p class="indent" >   (1+ <em>x</em>)</b> is the same as <b>(+ <em>x</em> 1)</b>.
<b>
<!--l. 484--><p class="indent" >   (1- <em>x</em>)</b> is the same as <b>(- <em>x</em> 1)</b>. Note that the short name may be confusing: <b>(1-
<em>x</em>)</b> does <em>not</em> mean <span class="math">1 −<em>x</em></span>; rather, it means <span class="math"><em>x</em> − 1</span>.____________________________<div class="implementation">
<!--l. 489--><p class="noindent" ><b>Implementation note:</b> Compiler writers are very strongly encouraged to ensure that
<b>(1+ x)</b> and <b>(+ x 1)</b> compile into identical code, and similarly for <b>(1- x)</b> and
<b>(- x 1)</b>, to avoid pressure on a Lisp programmer to write possibly less clear
code for the sake of eﬃciency. This can easily be done as a source-language
transformation.
</div>___________________________________________________________________________________________________________
<hr>
</div>
<div class="defmac">
<div class="defmacheader">
<!--l. 500--><p class="indent" >     <div class="tabbing">
  <em>[Macro]</em> <b>incf</b> <a 
 id="dx84-121007"></a>place [delta]
     <br>
<!--l. 500--><p class="noindent" ></div>
</div>
<div class="defmacheader">
<!--l. 500--><p class="indent" >     <div class="tabbing">
  <em>[Macro]</em> <b>decf</b> <a 
 id="dx84-121008"></a>place [delta]
     <br>
<!--l. 502--><p class="noindent" ></div>
</div>
                                                                          

                                                                          
<!--l. 503--><p class="indent" >   The number produced by the form <em>delta</em> is added to (<b><a 
href="symbols.html#x188-375482r482">incf</a></b>) or subtracted from
(<b><a 
href="symbols.html#x188-375292r292">decf</a></b>) the number in the generalized variable named by <em>place</em>, and the sum is
stored back into <em>place</em> and returned. The form <em>place</em> may be any form acceptable
as a generalized variable to <b><a 
href="symbols.html#x188-375832r832">setf</a></b>. If <em>delta</em> is not supplied, then the number in <em>place</em>
is changed by <b>1</b>. For example: <div class="lisp"><tt><div class="tabbing">
(setq n 0)
   <br>                                              (incf n) <span class="math"> ⇒</span> 1          and now n <span class="math"> ⇒</span> 1<br>
(decf n 3) <span class="math"> ⇒</span> -2      and now n <span class="math"> ⇒</span> -2<br>
(decf n -5) <span class="math"> ⇒</span> 3      and now n <span class="math"> ⇒</span> 3<br> (decf n) <span class="math"> ⇒</span> 2         and now n <span class="math"> ⇒</span> 2<br>
<!--l. 519--><p class="noindent" ></div>
</tt>
</div>
<!--l. 520--><p class="indent" >   The eﬀect of <b>(incf <em>place</em> <em>delta</em>)</b> is roughly equivalent to <div class="lisp"><tt><div class="tabbing">
(setf <em>place</em> (+ <em>place</em> <em>delta</em>))
   <br>
<!--l. 524--><p class="noindent" ></div>
</tt>
</div>
<!--l. 525--><p class="indent" >   except that the latter would evaluate any subforms of <em>place</em> twice, whereas
<b><a 
href="symbols.html#x188-375482r482">incf</a></b> takes care to evaluate them only once. Moreover, for certain <em>place</em> forms <b><a 
href="symbols.html#x188-375482r482">incf</a></b>
may be signiﬁcantly more eﬃcient than the <b><a 
href="symbols.html#x188-375832r832">setf</a></b> version. <div class="newer"> X3J13 voted in March
1988 <a 
 id="dx84-121009"></a>to clarify order of evaluation (see section <a 
href="clmse36.html#x48-780007.2">7.2<!--tex4ht:ref: SETF-SECTION --></a>).
</div>
<hr></div>
<div class="defun">
<div class="defunheader">
<em>
<!--l. 536--><p class="noindent" >[Function]</em><a 
 id="dx84-121010"></a> <b>conjugate</b> <i>number</i>
</div>
<!--l. 538--><p class="indent" >   This returns the complex conjugate of <em>number</em>. The conjugate of a
non-complex number is itself. For a complex number <b>z</b>, <div class="lisp"><tt><div class="tabbing">
                                                                          

                                                                          
(conjugate z) <span class="math"> ≡</span> (complex (realpart z) (- (imagpart z)))
   <br>
<!--l. 542--><p class="noindent" ></div>
</tt>
</div>
<!--l. 543--><p class="indent" >   For example: <div class="lisp"><tt><div class="tabbing">
(conjugate #C(3/5 4/5)) <span class="math"> ⇒</span> #C(3/5 -4/5)
   <br>                         (conjugate #C(0.0D0 -1.0D0)) <span class="math"> ⇒</span> #C(0.0D0 1.0D0)<br>
(conjugate 3.7) <span class="math"> ⇒</span> 3.7<br>
<!--l. 548--><p class="noindent" ></div>
</tt>
</div>
<hr>
</div>
<div class="defun">
<div class="defunheader">
<em>
<!--l. 552--><p class="noindent" >[Function]</em><a 
 id="dx84-121011"></a> <b>gcd</b> <tt><a 
href="clmse29.html#x39-620005.2.2">&#x0026;rest</a></tt> <i>integers</i>
</div>
<!--l. 554--><p class="indent" >   This returns the greatest common divisor of all the arguments, which must be
integers. The result of <b><a 
href="symbols.html#x188-375439r439">gcd</a></b> is always a non-negative integer. If one argument is
given, its absolute value is returned. If no arguments are given, <b><a 
href="symbols.html#x188-375439r439">gcd</a></b> returns <b>0</b>,
which is an identity for this operation. For three or more arguments,
<div class="lisp"><tt><div class="tabbing">
(gcd <em>a</em> <em>b</em> <em>c</em> ... <em>z</em>) <span class="math"> ≡</span> (gcd (gcd <em>a</em> <em>b</em>) <em>c</em> ... <em>z</em>)
   <br>
                                                                          

                                                                          
<!--l. 563--><p class="noindent" ></div>
</tt>
</div>
<!--l. 565--><p class="indent" >   Here are some examples of the use of <b><a 
href="symbols.html#x188-375439r439">gcd</a></b>: <div class="lisp"><tt><div class="tabbing">
(gcd 91 -49) <span class="math"> ⇒</span> 7
   <br>                                                                   (gcd 63 -42 35) <span class="math"> ⇒</span> 7<br>
(gcd 5) <span class="math"> ⇒</span> 5<br>                                                (gcd -4) <span class="math"> ⇒</span> 4<br>
(gcd) <span class="math"> ⇒</span> 0<br>
<!--l. 572--><p class="noindent" ></div>
</tt>
</div>
<hr>
</div>
<div class="defun">
<div class="defunheader">
<em>
<!--l. 576--><p class="noindent" >[Function]</em><a 
 id="dx84-121012"></a> <b>lcm</b> <i>integer</i> <tt><a 
href="clmse29.html#x39-620005.2.2">&#x0026;rest</a></tt> <i>more-integers</i>
</div>
<!--l. 578--><p class="indent" >   This returns the least common multiple of its arguments, which must be
integers. The result of <b><a 
href="symbols.html#x188-375510r510">lcm</a></b> is always a non-negative integer. For two arguments
that are not both zero, <div class="lisp"><tt><div class="tabbing">
(lcm <em>a</em> <em>b</em>) <span class="math"> ≡</span> (/ (abs (* <em>a</em> <em>b</em>)) (gcd <em>a</em> <em>b</em>))
   <br>
<!--l. 584--><p class="noindent" ></div>
</tt>
</div>
<!--l. 585--><p class="indent" >   If one or both arguments are zero, <div class="lisp"><tt><div class="tabbing">
                                                                          

                                                                          
(lcm <em>a</em> 0) <span class="math"> ≡</span> (lcm 0 <em>a</em>) <span class="math"> ≡</span> 0
   <br>
<!--l. 588--><p class="noindent" ></div>
</tt>
</div>
<!--l. 590--><p class="indent" >   For one argument, <b><a 
href="symbols.html#x188-375510r510">lcm</a></b> returns the absolute value of that argument. For three
or more arguments, <div class="lisp"><tt><div class="tabbing">
(lcm <em>a</em> <em>b</em> <em>c</em> ... <em>z</em>) <span class="math"> ≡</span> (lcm (lcm <em>a</em> <em>b</em>) <em>c</em> ... <em>z</em>)
   <br>
<!--l. 594--><p class="noindent" ></div>
</tt>
</div>
<!--l. 596--><p class="indent" >   Some examples: <div class="lisp"><tt><div class="tabbing">
(lcm 14 35) <span class="math"> ⇒</span> 70
   <br>                                                                           (lcm 0 5) <span class="math"> ⇒</span> 0<br>
(lcm 1 2 3 4 5 6) <span class="math"> ⇒</span> 60<br>
<!--l. 601--><p class="noindent" ></div>
</tt>
</div>
<div class="lisp">
<tt>
<!--l. 603--><p class="indent" >   <div class="tabbing">
<b>(lcm) <span class="math"> ⇒</span> 1</b>.
   <br>
<!--l. 605--><p class="noindent" ></div>
</tt>
</div>
                                                                          

                                                                          
<b>
<!--l. 607--><p class="indent" >   (lcm)</b> ought to have been deﬁned to return 1.
<hr></div>
                                                                          

                                                                          
<!--l. 610--><p class="indent" >   <div id="bottomlinks">&#x003C;<a 
href="clmse68.html" >Next</a>&#x003E;&#x003C;<a 
href="clmse66.html" >Prev</a>&#x003E;&#x003C;<a 
href="clmse66.html#tailclmse66.html" >PrevTail</a>&#x003E;&#x003C;<a 
href="clmse67.html" >Front</a>&#x003E;&#x003C;<a 
href="number.html#clmse67.html" >Up</a>&#x003E;<br>&lt;<a href="../index.html">Main Page</a>&gt; &lt;<a href="symbols.html">Symbols</a>&gt; </div><a 
 id="tailclmse67.html"></a>  
</body></html> 

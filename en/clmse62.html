<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Built-in Packages</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,next,fn-in,charset=utf-8,sections+,minitoc<,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-06-05 16:06:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
<link rel="stylesheet" type="text/css" href="../cltl2ed.css"></head><body 
>
   <div id="toplinks"> &lt;<a href="../index.html">Main Page</a>&gt; &lt;<a href="symbols.html">Symbols</a>&gt; <br> &#x003C;<a 
href="clmse63.html" >Next</a>&#x003E;&#x003C;<a 
href="clmse61.html" >Prev</a>&#x003E;&#x003C;<a 
href="clmse61.html#tailclmse61.html" >PrevTail</a>&#x003E;&#x003C;<a 
href="#tailclmse62.html">Tail</a>&#x003E;&#x003C;<a 
href="xpack.html#clmse62.html" >Up</a>&#x003E;</div><h3 class="sectionHead"><span class="titlemark">11.6   </span> <a 
href="clm.html#QQ2-78-124" id="x78-11500011.6">Built-in Packages</a></h3>
<div class="flushdesc">
      <ul><li><b>
<b>common-lisp</b> </b></li>The package named <b>common-lisp</b> contains the primitives of
      the ANSI Common Lisp system (as opposed to a Common Lisp system
      based on the 1984 speciﬁcation). Its external symbols include all of
      the user-visible functions and global variables that are present in the
      ANSI Common Lisp system, such as <b><a 
href="symbols.html#x188-375179r179">car</a></b>, <b><a 
href="symbols.html#x188-375197r197">cdr</a></b>, and <b><a 
href="symbols.html#x188-375026r26">*package*</a></b>. Note,
      however, that the home package of such symbols is not necessarily the
      <b>common-lisp</b> package (this makes it easier for symbols such as <b><a 
href="symbols.html#x188-375941r941">t</a></b> and
      <b><a 
href="symbols.html#x188-375504r504">lambda</a></b> to be shared between the <b>common-lisp</b> package and another
      package, possibly one named <b>lisp</b>). Almost all other packages ought
      to use <b>common-lisp</b> so that these symbols will be accessible without
      qualiﬁcation. This package has the nickname <b>cl</b>.
      <li><b>
<b>common-lisp-user</b> </b></li>The  <b>common-lisp-user</b> package  is,  by  default,  the
      current package at the time an ANSI Common Lisp system starts up.
      This package uses the <b>common-lisp</b> package and has the nickname
      <b>cl-user</b>. It may contain other implementation-dependent symbols and
      may use other implementation-speciﬁc packages.
      <li><b>
<b>keyword</b> </b></li>This  package  contains  all  of  the  keywords  used  by  built-in  or
      user-deﬁned Lisp functions. Printed symbol representations that start
      with a colon are interpreted as referring to symbols in this package,
      which are always external symbols. All symbols in this package are
      treated as constants that evaluate to themselves, so that the user can
      type <b>:foo</b> instead of <b>&#x2019;:foo</b>.</ul>
</div>
<div class="new">
                                                                          

                                                                          
<!--l. 648--><p class="noindent" >X3J13 voted in January 1989 <a 
 id="dx78-115001"></a>to modify the requirements on the built-in packages
so as to limit what may appear in the <b>common-lisp</b> package and to lift the
requirement that every implementation have a package named <b>system</b>. The
details are as follows.
<!--l. 655--><p class="indent" >   Not only must the <b>common-lisp</b> package in any given implementation
contain all the external symbols prescribed by the standard; the <b>common-lisp</b>
package moreover may not contain any external symbol that is not prescribed by
the standard. However, the <b>common-lisp</b> package may contain additional
internal symbols, depending on the implementation.
<!--l. 662--><p class="indent" >   An external symbol of the <b>common-lisp</b> package may not have a function,
macro, or special operator deﬁnition, or a top-level value, or a <b>special</b>
proclamation, or a type deﬁnition, unless speciﬁcally permitted by the standard.
Programmers may validly rely on this fact; for example, <b><a 
href="symbols.html#x188-375384r384">fboundp</a></b> is guaranteed
to be false for all external symbols of the <b>common-lisp</b> package except those
explicitly speciﬁed in the standard to name functions, macros, and special
operators. Similarly, <b><a 
href="symbols.html#x188-375155r155">boundp</a></b> will be false of all such external symbols except
those documented to be variables or constants.
<!--l. 672--><p class="indent" >   Portable programs may use external symbols in the <b>common-lisp</b> package
that are not documented to be constants or variables as names of local lexical
variables with the presumption that the implementation has not proclaimed such
variables to be special; this legitimizes the common practice of using such names
as <b><a 
href="symbols.html#x188-375535r535">list</a></b> and <b><a 
href="symbols.html#x188-375898r898">string</a></b> as names for local variables.
<!--l. 680--><p class="indent" >   A valid implementation may initially have properties on any symbol, or
dynamically put new properties on symbols (even user-created symbols), as long
as no property indicator used for this purpose is an external symbol of any
package deﬁned by the standard or a symbol that is accessible from the
<b>common-lisp-user</b> package or any package deﬁned by the user.
<!--l. 687--><p class="indent" >   This vote eliminates the requirement that every implementation have a
predeﬁned package named <b>system</b>. An implementation may provide any number
of predeﬁned packages; these should be described in the documentation for that
implementation.
<!--l. 692--><p class="indent" >   The <b>common-lisp-user</b> package may contain symbols not described by the
standard and may use other implementation-speciﬁc packages.
</div>
<div class="newer">
<!--l. 697--><p class="noindent" >X3J13 voted in March 1989 <a 
 id="dx78-115002"></a>to restrict user programs from performing certain
actions that might interfere with built-in facilities or interact badly with them.
Except where explicitly allowed, the consequences are undeﬁned if any of
                                                                          

                                                                          
the following actions are performed on a symbol in the <b>common-lisp</b>
package.
      <ul class="itemize1">
      <li class="itemize">binding or altering its value (lexically or dynamically)
      </li>
      <li class="itemize">deﬁning or binding it as a function
      </li>
      <li class="itemize">deﬁning or binding it as a macro
      </li>
      <li class="itemize">deﬁning it as a type speciﬁer (<b><a 
href="symbols.html#x188-375313r313">defstruct</a></b>, <b><a 
href="symbols.html#x188-375298r298">defclass</a></b>, <b><a 
href="symbols.html#x188-375314r314">deftype</a></b>)
      </li>
      <li class="itemize">deﬁning it as a structure (<b><a 
href="symbols.html#x188-375313r313">defstruct</a></b>)
      </li>
      <li class="itemize">deﬁning it as a declaration
      </li>
      <li class="itemize">design it as a symbol macro FIXME
      </li>
      <li class="itemize">altering its print name
      </li>
      <li class="itemize">altering its package
      </li>
      <li class="itemize">tracing it
      </li>
      <li class="itemize">declaring or proclaiming it special or lexical
      </li>
      <li class="itemize">declaring or proclaiming its <b>type</b> or <b>ftype</b>
      </li>
      <li class="itemize">removing it from the package <b>common-lisp</b></li></ul>
                                                                          

                                                                          
<!--l. 719--><p class="noindent" >X3J13 also voted in June 1989 <a 
 id="dx78-115003"></a>to add to this list the item
      <ul class="itemize1">
      <li class="itemize">deﬁning it as a compiler macro</li></ul>
<!--l. 725--><p class="indent" >   If such a symbol is not globally deﬁned as a variable or a constant, a
user program is allowed to lexically bind it and declare the <b>type</b> of that
binding.
<!--l. 729--><p class="indent" >   If such a symbol is not deﬁned as a function, macro, or special operator, a user
program is allowed to (lexically) bind it as a function and to declare the <b>ftype</b> of
that binding and to trace that binding.
<!--l. 733--><p class="indent" >   If such a symbol is not deﬁned as a function, macro, or special operator, a user
program is allowed to (lexically) bind it as a macro.
<!--l. 736--><p class="indent" >   As an example, the behavior of the code fragment <div class="lisp"><tt><div class="tabbing">
(ﬂet ((open (ﬁlename &#x0026;key direction)
   <br>                                            (format t &#x0022;~%OPEN was called.&#x0022;)<br>
         (open ﬁlename :direction direction)))<br>
  (with-open-ﬁle (x &#x0022;frob&#x0022; :direction &#x2019;:output)<br>
    (format t &#x0022;~%Was OPEN called?&#x0022;)))<br>
<!--l. 743--><p class="noindent" ></div>
</tt>
</div>
<!--l. 744--><p class="indent" >   is undeﬁned. Even in a “reasonable” implementation, for example, the
macro expansion of <b><a 
href="symbols.html#x188-376008r1008">with-open-ﬁle</a></b> might refer to the <b><a 
href="symbols.html#x188-375689r689">open</a></b> function and
might not. However, the preceding rules eliminate the burden of deciding
whether an implementation is reasonable. The code fragment violates the
rules; oﬃcially its behavior is therefore completely undeﬁned, and that&#x2019;s
that.
<!--l. 751--><p class="indent" >   Note that “altering the property list” is not in the list of proscribed actions, so
a user program <em>is</em> permitted to add properties to or remove properties from
symbols in the <b>common-lisp</b> package.
</div>
                                                                          

                                                                          
<!--l. 757--><p class="indent" >   <div id="bottomlinks">&#x003C;<a 
href="clmse63.html" >Next</a>&#x003E;&#x003C;<a 
href="clmse61.html" >Prev</a>&#x003E;&#x003C;<a 
href="clmse61.html#tailclmse61.html" >PrevTail</a>&#x003E;&#x003C;<a 
href="clmse62.html" >Front</a>&#x003E;&#x003C;<a 
href="xpack.html#clmse62.html" >Up</a>&#x003E;<br>&lt;<a href="../index.html">Main Page</a>&gt; &lt;<a href="symbols.html">Symbols</a>&gt; </div><a 
 id="tailclmse62.html"></a>  
</body></html> 

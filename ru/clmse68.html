<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>–ò—Ä—Ä–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∏ —Ç—Ä–∞–Ω—Å—Ü–µ–Ω–¥–µ–Ω—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,next,fn-in,charset=utf-8,sections+,minitoc<,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-09-13 23:02:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
<link rel="stylesheet" type="text/css" href="../cltl2ed.css"></head><body 
>
   <div id="toplinks"> &lt;<a href="../index.html">–ì–ª–∞–≤–Ω–∞—è</a>&gt; &lt;<a href="symbols.html">–°–∏–º–≤–æ–ª—ã</a>&gt; <br />&#x003C;<a 
href="clmse69.html" >–î–∞–ª–µ–µ</a>&#x003E;&#x003C;<a 
href="clmse67.html" >–ù–∞–∑–∞–¥</a>&#x003E;&#x003C;<a 
href="clmse67.html#tailclmse67.html" >–ù–∞–∑–∞–¥-–∏-–≤–Ω–∏–∑</a>&#x003E;&#x003C;<a 
href="#tailclmse68.html">–í-–∫–æ–Ω–µ—Ü</a>&#x003E;&#x003C;<a 
href="number.html#clmse68.html" >–ù–∞–≤–µ—Ä—Ö</a>&#x003E;</div><h3 class="sectionHead"><span class="titlemark">12.5
</span> <a 
href="clm.html#QQ2-85-132" id="x85-12200012.5">–ò—Ä—Ä–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∏ —Ç—Ä–∞–Ω—Å—Ü–µ–Ω–¥–µ–Ω—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏</a></h3>
<!--l. 4288--><p class="noindent" >Common Lisp –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–π —Ç–æ—á–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç
–∏—Ä—Ä–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —á–∏—Å–ª–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è. –í –¥–∞–Ω–Ω–æ–º —Ä–∞–∑–¥–µ–ª–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–ø–∏—Å–∞–Ω—ã
—Ç–∞–∫, –∫–∞–∫ –µ—Å–ª–∏ –±—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—ã–ª–∏ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ç–æ—á–Ω—ã–º–∏, –Ω–æ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏
–≤—Å–µ –æ–Ω–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —á–∏—Å–ª–æ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ —Ä–∞–≤–Ω–æ–µ
–Ω–∞—Å—Ç–æ—è—â–µ–º—É –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é. –í –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –º–µ—Å—Ç–∞—Ö –∏–∑–ª–æ–∂–µ–Ω—ã
–º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–æ–∂–¥–µ—Å—Ç–≤–∞, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å–æ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ —Ñ—É–Ω–∫—Ü–∏–π, –æ–¥–Ω–∞–∫–æ, –¥–≤–∞
–º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏—è –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –ø–æ –ø—Ä–∏—á–∏–Ω–µ
–æ—à–∏–±–æ–∫ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∞–ø–ø—Ä–æ–∫—Å–∏–º–∞—Ü–∏–∏ –ø—Ä–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è—Ö —á–∏—Å–µ–ª —Å –ø–ª–∞–≤–∞—é—â–µ–π
—Ç–æ—á–∫–æ–π.
<!--l. 4298--><p class="indent" >   –ö–æ–≥–¥–∞ –≤—Å–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏ –¥–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ —è–≤–ª—è—é—Ç—Å—è
—Ä–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –∏ –™ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–∞–∫–∂–µ —è–≤–ª—è–µ—Ç—Å—è
(–º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏) —Ä–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º, —Ç–æ–≥–¥–∞, –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ –∏–Ω–æ–µ, —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–∂–µ—Ç
–≤–µ—Ä–Ω—É—Ç—å –∏–ª–∏ —Ç–æ—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–∏–ø–∞ <b>rational</b> –∏–ª–∏ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å
–ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π –æ–¥–∏–Ω–∞—Ä–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏. –ï—Å–ª–∏ –≤—Å–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã —Ä–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã, –Ω–æ
—Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º, —Ç–æ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —á–∏—Å–ª–æ —Å
–ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π –æ–¥–∏–Ω–∞—Ä–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏.
<!--l. 4305--><p class="indent" >   –ï—Å–ª–∏ –≤—Å–µ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –≤ —Ñ—É–Ω–∫—Ü–∏—é –∞—Ä–≥—É–º–µ–Ω—Ç—ã –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç —Ç–∏–ø—É
<b>(or¬†rational (complex rational))</b> –∏ –™ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
—è–≤–ª—è–µ—Ç—Å—è (–º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏) –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–º —á–∏—Å–ª–æ–º —Å —Ä–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏
–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–π –∏ –º–Ω–∏–º–æ–π —á–∞—Å—Ç—è–º–∏, —Ç–æ–≥–¥–∞, –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ –∏–Ω–æ–µ, —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
–º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å –∏–ª–∏ —Ç–æ—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–∏–ø–∞ <b>(or rational (complex
rational))</b> –∏–ª–∏ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–Ω—ã–π —Ç–∏–ø–∞ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π —Å –æ–¥–∏–Ω–∞—Ä–Ω–æ–π
—Ç–æ—á–Ω–æ—Å—Ç—å—é <b>single-Ô¨Çoat</b> (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –º–Ω–∏–º–∞—è —á–∞—Å—Ç—å —Ä–∞–≤–Ω–∞ –Ω—É–ª—é) –∏–ª–∏
<b>(complex single-Ô¨Çoat)</b>. –ï—Å–ª–∏ –≤—Å–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã —Ç–∏–ø–∞ <b>(or¬†rational (complex
rational))</b>, –Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã—Ä–∞–∂–µ–Ω —Ä–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –∏–ª–∏
–∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–º —Ä–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º —á–∏—Å–ª–æ–º, —Ç–æ–≥–¥–∞ –æ–Ω –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç—å —Ç–∏–ø—É
<b>single-Ô¨Çoat</b> (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –º–Ω–∏–º–∞—è —á–∞—Å—Ç—å —Ä–∞–≤–Ω–∞ –Ω—É–ª—é) –∏–ª–∏ <b>(complex
single-Ô¨Çoat)</b>.
<!--l. 4317--><p class="indent" >   –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º <b><a 
href="symbols.html#x188-380392r392">expt</a></b> –ø–æ–¥—á–∏–Ω—è—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª–∞–º –Ω–µ—è–≤–Ω–æ–≥–æ
–ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–∏ –∏–ª–∏ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ —á–∏—Å–ª–∞. –ö–æ–≥–¥–∞, –≤–æ–∑–º–æ–∂–Ω–æ
                                                                          

                                                                          
–ø–æ—Å–ª–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è —Ç–∏–ø–æ–≤, –≤—Å–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π –∏–ª–∏
–∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–º —á–∏—Å–ª–æ–º —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π, —Ç–æ–≥–¥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç —Ç–∞–∫–æ–≥–æ –∂–µ
—Ç–∏–ø–∞, —á—Ç–æ –∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞, –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ –∏–Ω–æ–µ.
____________________________<div class="implementation">
<!--l. 4324--><p class="noindent" ><b>–ó–∞–º–µ—Ç–∫–∞ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:</b> –î–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —Ä–∞–±–æ—Ç—ã —Ñ—É–Ω–∫—Ü–∏–π –∏–∑ –¥–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞
–º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–æ–π ¬´–ø–æ–≤–∞—Ä–µ–Ω–Ω–∞—è –∫–Ω–∏–≥–∞ —á–∏—Å–µ–ª —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π¬ª –æ—Ç Cody –∏
Waite¬†<span class="cite">[<a 
href="bib.html#XCODY-AND-WAITE">14</a>]</span>.
</div>___________________________________________________________________________________________________________
<!--l. 4330--><p class="noindent" >
     <h4 class="subsectionHead"><span class="titlemark">12.5.1   </span> <a 
href="frontmatter.html#QQ2-85-133" id="x85-12300012.5.1">–≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –∏ –ª–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏</a></h4>
<!--l. 4332--><p class="noindent" >–ù–∞—Ä—è–¥—É —Å –æ–±—ã—á–Ω—ã–º–∏ –æ–¥–Ω–æ-–∞—Ä–≥—É–º–µ–Ω—Ç–Ω—ã–º–∏ –∏ –¥–≤—É—Ö-–∞—Ä–≥—É–º–µ–Ω—Ç–Ω—ã–º–∏
—ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º–∏ –∏ –ª–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–∏–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏, <b><a 
href="symbols.html#x188-380896r896">sqrt</a></b> —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç—Å—è
–∫–∞–∫ —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–∞ –≤–æ–∑–≤–æ–¥–∏—Ç —á–∏—Å–ª–æ –≤ —Å—Ç–µ–ø–µ–Ω—å
1/2.
<div class="defun">
<div class="defunheader">
<a 
 id="dx85-123001"></a>
<em>
<!--l. 4337--><p class="noindent" >[–§—É–Ω–∫—Ü–∏—è]</em>¬†<b>exp</b> <i>number</i>
</div>
<!--l. 4339--><p class="indent" >    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç <em>–µ</em>, –≤–æ–∑–≤–µ–¥—ë–Ω–Ω–æ–µ –≤ —Å—Ç–µ–ø–µ–Ω—å <em>number</em>, –≥–¥–µ <em>–µ</em> —è–≤–ª—è–µ—Ç—Å—è –æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º
–Ω–∞—Ç—É—Ä–∞–ª—å–Ω–æ–≥–æ –ª–æ–≥–∞—Ä–∏—Ñ–º–∞.
<hr></div>
<div class="defun">
<div class="defunheader">
<a 
 id="dx85-123002"></a>
<em>
<!--l. 4344--><p class="noindent" >[–§—É–Ω–∫—Ü–∏—è]</em>¬†<b>expt</b> <i>base-number</i> <i>power-number</i>
</div>
<!--l. 4346--><p class="indent" >    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç <em>base-number</em>, –≤–æ–∑–≤–µ–¥—ë–Ω–Ω—ã–π –≤ —Å—Ç–µ–ø–µ–Ω—å <em>power-number</em>. –ï—Å–ª–∏
<em>base-number</em> –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —Ç–∏–ø—É <b>rational</b> –∏ <em>power-number</em> ‚Äî <b>integer</b>,
—Ç–æ–≥–¥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç—å —Ç–∏–ø—É <b>rational</b>, –≤
                                                                          

                                                                          
–ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç –ø—Ä–∏–±–ª–∏–∂–µ–Ω–Ω—ã–º —á–∏—Å–ª–æ–º —Å –ø–ª–∞–≤–∞—é—â–µ–π
—Ç–æ—á–∫–æ–π.
<div class="newer">
<!--l. 4353--><p class="indent" >   X3J13 voted in March 1989 <a 
 id="dx85-123003"></a>to clarify that provisions similar to those of the
previous paragraph apply to complex numbers. If the <em>base-number</em> is of type
<b>(complex¬†rational)</b> and the <em>power-number</em> is an <b>integer</b>, the calculation will
also be exact and the result will be of type <b>(or¬†rational (complex rational))</b>;
otherwise a Ô¨Çoating-point or complex Ô¨Çoating-point approximation may
result.
</div>
<!--l. 4364--><p class="indent" >   –ï—Å–ª–∏ <em>power-number</em> —Ä–∞–≤–µ–Ω <b>0</b> (–Ω–æ–ª—å —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞), —Ç–æ–≥–¥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
–≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ 1, —Ç–∞–∫–æ–≥–æ –∂–µ —Ç–∏–ø–∞ —á—Ç–æ –∏ <em>base-number</em>, –¥–∞–∂–µ –µ—Å–ª–∏
<em>base-number</em> —Ä–∞–≤–µ–Ω –Ω—É–ª—é (–ª—é–±–æ–≥–æ —Ç–∏–ø–∞). –¢–æ –µ—Å—Ç—å: <div class="lisp"><tt><div class="tabbing">
(expt <em>x</em> 0) <span class="math"> ‚â°</span>¬†(coerce 1 (type-of <em>x</em>))
   <br>
<!--l. 4369--><p class="noindent" ></div>
</tt>
</div>
<!--l. 4370--><p class="indent" >   –ï—Å–ª–∏ <em>power-number</em> —è–≤–ª—è–µ—Ç—Å—è –Ω—É–ª—ë–º –ª—é–±–æ–≥–æ –¥—Ä—É–≥–æ–≥–æ —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö, —Ç–æ–≥–¥–∞
—Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–∞–∫–∂–µ —Ä–∞–≤–µ–Ω 1 —Ç–∞–∫–æ–≥–æ –∂–µ —Ç–∏–ø–∞, —á—Ç–æ –∏ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –ø–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è
–ø—Ä–∞–≤–∏–ª –ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è —á–∏—Å–ª–æ–≤—ã—Ö —Ç–∏–ø–æ–≤, —Å –æ–¥–Ω–∏–º —É—Å–ª–æ–≤–∏–µ–º: –µ—Å–ª–∏ <em>base-number</em>
—Ä–∞–≤–µ–Ω –Ω—É–ª—é, –∫–æ–≥–¥–∞ <em>power-number</em> —è–≤–ª—è–µ—Ç—Å—è –Ω–µ—Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–º –Ω—É–ª—ë–º, —Ç–æ —ç—Ç–æ
—è–≤–ª—è–µ—Ç—Å—è –æ—à–∏–±–∫–æ–π.
<!--l. 4376--><p class="indent" >   –†–µ–∞–ª–∏–∑–∞—Ü–∏—è <b><a 
href="symbols.html#x188-380392r392">expt</a></b> –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –¥–ª—è —Å–ª—É—á–∞–µ–≤
—Å —Ä–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º <em>power-number</em>. –°—É—Ç—å –≤
—Ç–æ–º, —á—Ç–æ –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤ –±–æ–ª–µ –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å
–¥–æ—Å—Ç–∏–≥–Ω—É—Ç –¥–ª—è —Ä–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ <em>power-number</em>. –ù–∞–ø—Ä–∏–º–µ—Ä, <b>(expt pi 16)</b> –∏ <b>(expt
pi 16.0)</b> –º–æ–≥—É—Ç –≤–µ—Ä–Ω—É—Ç—å —Å–ª–µ–≥–∫–∞ —Ä–∞–∑–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –µ—Å–ª–∏ –≤ –ø–µ—Ä–≤–æ–º
—Å–ª—É—á–∞–µ –∞–ª–≥–æ—Ä–∏—Ç–º ¬´–ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∫–≤–∞–¥—Ä–∞—Ç–æ–≤¬ª, –∞ –≤–æ –≤—Ç–æ—Ä–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
–ª–æ–≥–∞—Ä–∏—Ñ–º–æ–≤.
<!--l. 4384--><p class="indent" >   –†–µ–∑—É–ª—å—Ç–∞—Ç–æ–º <b><a 
href="symbols.html#x188-380392r392">expt</a></b> –º–æ–∂–µ—Ç –±—ã—Ç—å –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —á–∏—Å–ª–æ, –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–∏ –æ–¥–∏–Ω
–∞—Ä–≥—É–º–µ–Ω—Ç –Ω–µ –±—ã–ª –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–º. –¢–∞–∫–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–ª—É—á–∞–µ—Ç—Å—è –µ—Å–ª–∏ <em>base-number</em>
–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ —á–∏—Å–ª–æ –∏ <em>power-number</em> –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–º.
–°–ª–µ–¥—É–µ—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ <b>(expt -8 1/3)</b> –Ω–µ –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å <b>-2</b>, —Ö–æ—Ç—è –∏ <b>-2</b>
–Ω–µ—Å–æ–º–Ω–µ–Ω–Ω–æ —è–≤–ª—è–µ—Ç—Å—è –æ–¥–Ω–∏–º –∏–∑ –∫—É–±–∏—á–µ—Å–∫–∏—Ö –∫–æ—Ä–Ω–µ–π –¥–ª—è <b>-8</b>, –Ω–æ –æ—Å–Ω–æ–≤–Ω—ã–º
                                                                          

                                                                          
–∫–æ—Ä–Ω–µ–º —è–≤–ª—è–µ—Ç—Å—è –∞–ø–ø—Ä–æ–∫—Å–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —á–∏—Å–ª–æ <b>#C(1.0
1.73205)</b>.
<hr></div>
<div class="defun">
<div class="defunheader">
<a 
 id="dx85-123004"></a>
<em>
<!--l. 4393--><p class="noindent" >[–§—É–Ω–∫—Ü–∏—è]</em>¬†<b>log</b> <i>number</i> <tt><a 
href="clmse29.html#x39-620005.2.2">&#x0026;optional</a></tt> <i>base</i>
</div>
<!--l. 4395--><p class="indent" >   –§—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ª–æ–≥–∞—Ä–∏—Ñ–º —á–∏—Å–ª–∞ <em>number</em> c –æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º <em>base</em>, –∫–æ—Ç–æ—Ä–æ–µ
–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä–∞–≤–Ω–æ <em>e</em> (—ç–ø—Å–∏–ª–æ–Ω, –æ—Å–Ω–æ–≤–∞–Ω–∏–µ –¥–ª—è –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–æ–≥–æ –ª–æ–≥–∞—Ä–∏—Ñ–º–∞).
–ù–∞–ø—Ä–∏–º–µ—Ä: <div class="lisp"><tt><div class="tabbing">
(log 8.0 2) <span class="math"> ‚áí</span>¬†3.0
   <br>                                                                   (log 100.0 10) <span class="math"> ‚áí</span>¬†2.0<br>
<!--l. 4402--><p class="noindent" ></div>
</tt>
</div>
<!--l. 4403--><p class="indent" >   –í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º <b>(log 8 2)</b> –º–æ–∂–µ—Ç –±—ã—Ç—å –∫–∞–∫ <b>3</b>,
—Ç–∞–∫ –∏ <b>3.0</b>. –ù–∞–ø—Ä–∏–º–µ—Ä: <div class="lisp"><tt><div class="tabbing">
(log -1.0) <span class="math"> ‚â°</span>¬†(complex 0.0 (Ô¨Çoat pi 0.0))
   <br>
<!--l. 4408--><p class="noindent" ></div>
</tt>
</div>
<div class="new">
<!--l. 4411--><p class="indent" >   X3J13 voted in January 1989 <a 
 id="dx85-123005"></a>to specify certain Ô¨Çoating-point behavior when
minus zero is supported. As a part of that vote it approved a mathematical
deÔ¨Ånition of complex logarithm in terms of real logarithm, absolute value, arc
tangent of two real arguments, and the phase function as <div class="tabbing">
                                                                          

                                                                          
Logarithm                 <span class="math"> log <img 
src="clm0x.png" alt="|z|"  class="left" align="middle"> + <em>i</em> phase <em>z</em></span>
   <br>
<!--l. 4420--><p class="noindent" ></div>This speciÔ¨Åes the branch cuts precisely whether minus zero is supported or not; see
<b><a 
href="symbols.html#x188-380728r728">phase</a></b> and <b><a 
href="symbols.html#x188-380131r131">atan</a></b>.
</div>
<hr></div>
<div class="defun">
<div class="defunheader">
<a 
 id="dx85-123006"></a>
<em>
<!--l. 4427--><p class="noindent" >[–§—É–Ω–∫—Ü–∏—è]</em>¬†<b>sqrt</b> <i>number</i>
</div>
<!--l. 4429--><p class="indent" >   –§—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã–π –∫–æ—Ä–µ–Ω—å —á–∏—Å–ª–∞ <em>number</em>. –ï—Å–ª–∏ <em>number</em> –Ω–µ
—è–≤–ª—è–µ—Ç—Å—è –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–º —á–∏—Å–ª–æ–º –∏ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ, —Ç–æ–≥–¥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç
–∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–º —á–∏—Å–ª–æ–º. –ù–∞–ø—Ä–∏–º–µ—Ä: <div class="lisp"><tt><div class="tabbing">
(sqrt 9.0) <span class="math"> ‚áí</span>¬†3.0
   <br>                                                            (sqrt -9.0) <span class="math"> ‚áí</span>¬†#c(0.0 3.0)<br>
<!--l. 4436--><p class="noindent" ></div>
</tt>
</div>
<!--l. 4437--><p class="indent" >   –í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç <b>(sqrt 9)</b> –º–æ–∂–µ—Ç –±—ã—Ç—å –∫–∞–∫ <b>3</b>,
—Ç–∞–∫ –∏ <b>3.0</b>. –†–µ–∑—É–ª—å—Ç–∞—Ç <b>(sqrt -9)</b> –º–æ–∂–µ—Ç –±—ã—Ç—å –∫–∞–∫ <b>#(0 3)</b> –∏–ª–∏ <b>#c(0.0
3.0)</b>.
<div class="new">
<!--l. 4442--><p class="indent" >   X3J13 voted in January 1989 <a 
 id="dx85-123007"></a>to specify certain Ô¨Çoating-point behavior when
minus zero is supported. As a part of that vote it approved a mathematical
deÔ¨Ånition of complex square root in terms of complex logarithm and exponential
functions as <div class="tabbing">
                                                                          

                                                                          
Square root               <span class="math"><em>e</em><sup>(log z)‚àï2</sup></span>
   <br>
<!--l. 4450--><p class="noindent" ></div>This speciÔ¨Åes the branch cuts precisely whether minus zero is supported or not; see
<b><a 
href="symbols.html#x188-380728r728">phase</a></b> and <b><a 
href="symbols.html#x188-380131r131">atan</a></b>.
</div>
<hr></div>
<div class="defun">
<div class="defunheader">
<a 
 id="dx85-123008"></a>
<em>
<!--l. 4457--><p class="noindent" >[–§—É–Ω–∫—Ü–∏—è]</em>¬†<b>isqrt</b> <i>integer</i>
</div>
<!--l. 4459--><p class="indent" >   –¶–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–π –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã–π –∫–æ—Ä–µ–Ω—å: –∞—Ä–≥—É–º–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å
–Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º —Ü–µ–ª—ã–º, –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —è–≤–ª—è–µ—Ç—Å—è –Ω–∞–∏–±–æ–ª—å—à–∏–º —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º,
–∫–æ—Ç–æ—Ä–æ–µ –º–µ–Ω—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ —Ç–æ—á–Ω–æ–º—É –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–º—É –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–º—É –∫–æ—Ä–Ω—é
–∞—Ä–≥—É–º–µ–Ω—Ç–∞. <div class="lisp"><tt><div class="tabbing">
(isqrt 9) <span class="math"> ‚áí</span>¬†3
   <br>                          (isqrt 12) <span class="math"> ‚áí</span>¬†3<br>                          (isqrt 300) <span class="math"> ‚áí</span>¬†17<br>
(isqrt 325) <span class="math"> ‚áí</span>¬†18<br>
<!--l. 4467--><p class="noindent" ></div>
</tt>
</div>
<hr>
</div>
<!--l. 4470--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">12.5.2   </span> <a 
href="frontmatter.html#QQ2-85-134" id="x85-12400012.5.2">–¢—Ä–∏–≥–æ–Ω–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –Ω–∏–º–∏ —Ñ—É–Ω–∫—Ü–∏–∏</a></h4>
<!--l. 4472--><p class="noindent" >–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–π –≤ –¥–∞–Ω–Ω–æ–º —Ä–∞–∑–¥–µ–ª–µ, —Ç–∞–∫–∏–µ –∫–∞–∫ <b><a 
href="symbols.html#x188-380082r82">abs</a></b> –∏ <b><a 
href="symbols.html#x188-380855r855">signum</a></b>,
–Ω–µ—Å–æ–º–Ω–µ–Ω–Ω–æ –Ω–µ –æ—Ç–Ω–æ—Å—è—Ç—Å—è –∫ —Ç—Ä–∏–≥–æ–Ω–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–º —Ñ—É–Ω–∫—Ü–∏—è–º, –∫–æ–≥–¥–∞
—Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—é—Ç—Å—è –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö —á–∏—Å–µ–ª.
–û–¥–Ω–∞–∫–æ, –ø—É—Ç—å, —Å –ø–æ–º–æ—â—å—é –∫–æ—Ç–æ—Ä–æ–≥–æ –æ–Ω–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω—ã –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–∞
                                                                          

                                                                          
–∫–æ–º–ø–ª–µ–∫—Å–Ω—ã—Ö —á–∏—Å–ª–∞—Ö, –¥–µ–ª–∞–µ—Ç –∏—Ö —Å–≤—è–∑—å —Å —Ç—Ä–∏–≥–æ–Ω–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏
—è–≤–Ω–æ–π.
<div class="defun">
<div class="defunheader">
<a 
 id="dx85-124001"></a>
<em>
<!--l. 4479--><p class="noindent" >[–§—É–Ω–∫—Ü–∏—è]</em>¬†<b>abs</b> <i>number</i>
</div>
<!--l. 4481--><p class="indent" >   –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∞–±—Å–æ–ª—é—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞. –î–ª—è –Ω–µ–∫–æ–º–ø–ª–µ–∫—Å–Ω—ã—Ö —á–∏—Å–µ–ª <em>x</em>,
<div class="lisp"><tt><div class="tabbing">
(abs <em>x</em>) <span class="math"> ‚â°</span>¬†(if (minusp <em>x</em>) (- <em>x</em>) <em>x</em>)
   <br>
<!--l. 4484--><p class="noindent" ></div>
</tt>
</div>
<!--l. 4485--><p class="indent" >   –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—Å–µ–≥–¥–∞ –∏–º–µ–µ—Ç —Ç–æ—Ç –∂–µ —Ç–∏–ø, —á—Ç–æ –∏ –∞—Ä–≥—É–º–µ–Ω—Ç.
<!--l. 4487--><p class="indent" >   –î–ª—è –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã—Ö —á–∏—Å–µ–ª <em>z</em>, –∞–±—Å–æ–ª—é—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–æ
–∫–∞–∫ <div class="lisp"><tt><div class="tabbing">
(sqrt (+ (expt (realpart <em>z</em>) 2) (expt (imagpart <em>z</em>) 2)))
   <br>
<!--l. 4490--><p class="noindent" ></div>
</tt>
</div>
__________________________________________________________________________<div class="implementation">
<!--l. 4493--><p class="noindent" ><b>–ó–∞–º–µ—Ç–∫–∞ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:</b> –ê–∫–∫—É—Ä–∞—Ç–Ω—ã–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–µ –±—É–¥—É—Ç –Ω–∞–ø—Ä—è–º—É—é
–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç—É —Ñ–æ—Ä–º—É–ª—É –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã—Ö —á–∏—Å–µ–ª. –û—á–µ–Ω—å –±–æ–ª—å—à–∏–µ –∏ –æ—á–µ–Ω—å
–º–∞–ª–µ–Ω—å–∫–∏–µ —á–∞—Å—Ç–∏ –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã—Ö —á–∏—Å–µ–ª –±—É–¥—É—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ –¥–ª—è
–∏–∑–±–µ–∂–∞–Ω–∏—è –≤—ã—Ö–æ–¥–æ–≤ –∑–∞ –≤–µ—Ä—Ö–Ω–∏–µ –∏ –Ω–∏–∂–Ω–∏–µ –≥—Ä–∞–Ω–∏—Ü—ã –∑–Ω–∞—á–µ–Ω–∏–π.
</div>___________________________________________________________________________________________________________
<!--l. 4501--><p class="indent" >     –ù–∞–ø—Ä–∏–º–µ—Ä: <div class="lisp"><tt><div class="tabbing">
                                                                          

                                                                          
(abs #c(3.0 -4.0)) <span class="math"> ‚áí</span>¬†5.0
   <br>
<!--l. 4504--><p class="noindent" ></div>
</tt>
</div>
<!--l. 4505--><p class="indent" >   –†–µ–∑—É–ª—å—Ç–∞—Ç–æ–º <b>(abs #(3 4))</b> –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–ª–∏ <b>5</b> –∏–ª–∏ <b>5.0</b>, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç
—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.
<hr></div>
<div class="defun">
<div class="defunheader">
<a 
 id="dx85-124002"></a>
<em>
<!--l. 4510--><p class="noindent" >[–§—É–Ω–∫—Ü–∏—è]</em>¬†<b>phase</b> <i>number</i>
</div>
<!--l. 4512--><p class="indent" >   –ê—Ä–≥—É–º–µ–Ω—Ç–æ–º (—Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è phase) —á–∏—Å–ª–∞ z (arg(z) <span class="math"> ‚â°</span>(phase z))
—è–≤–ª—è–µ—Ç—Å—è —É–≥–æ–ª <span class="math">œÜ</span> (–≤ —Ä–∞–¥–∏–∞–Ω–∞—Ö) —Ä–∞–¥–∏—É—Å-–≤–µ–∫—Ç–æ—Ä–∞ —Ç–æ—á–∫–∏, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π
–∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–º—É —á–∏—Å–ª—É z.
<div class="new">
<!--l. 4517--><p class="indent" >   X3J13 voted in January 1989 <a 
 id="dx85-124003"></a>to specify certain Ô¨Çoating-point behavior when
minus zero is supported; <b><a 
href="symbols.html#x188-380728r728">phase</a></b> is still deÔ¨Åned in terms of <b><a 
href="symbols.html#x188-380131r131">atan</a></b> as above, but
thanks to a change in <b><a 
href="symbols.html#x188-380131r131">atan</a></b> the range of <b><a 
href="symbols.html#x188-380728r728">phase</a></b> becomes <span class="math"> ‚àí œÄ</span> <em>inclusive</em> to <span class="math">œÄ</span>
inclusive. The value <span class="math"> ‚àí œÄ</span> results from an argument whose real part is
                                                                          

                                                                          
negative and whose imaginary part is minus zero. The <b><a 
href="symbols.html#x188-380728r728">phase</a></b> function
therefore has a branch cut along the negative real axis. The phase of
<span class="math"> + 0 + 0<em>i</em></span> is <span class="math"> + 0</span>, of <span class="math"> + 0 ‚àí 0<em>i</em></span> is <span class="math"> ‚àí 0</span>, of <span class="math"> ‚àí 0 + 0<em>i</em></span> is <span class="math"> + œÄ</span>, and of <span class="math"> ‚àí 0 ‚àí 0<em>i</em></span> is
<span class="math"> ‚àí œÄ</span>.
</div>
<!--l. 4530--><p class="indent" >   –ï—Å–ª–∏ –∞—Ä–≥—É–º–µ–Ω—Ç —è–≤–ª—è–µ—Ç—Å—è –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–º —á–∏—Å–ª–æ–º —Å —á–∞—Å—Ç—è–º–∏ –∏–∑ —á–∏—Å–µ–ª —Å
–ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π, —Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º —è–≤–ª—è–µ—Ç—Å—è —á–∏—Å–ª–æ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π —Ç–æ–≥–æ
–∂–µ —Ç–∏–ø–∞. –ï—Å–ª–∏ –∞—Ä–≥—É–º–µ–Ω—Ç —è–≤–ª—è–µ—Ç—Å—è —á–∏—Å–ª–æ–º —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π, —Ç–æ
—Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º —è–≤–ª—è–µ—Ç—Å—è —á–∏—Å–ª–æ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π —Ç–æ–≥–æ –∂–µ —Ç–∏–ø–∞. –ï—Å–ª–∏
–∞—Ä–≥—É–º–µ–Ω—Ç —è–≤–ª—è–µ—Ç—Å—è –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–º —á–∏—Å–ª–æ–º —Å —á–∞—Å—Ç—è–º–∏ –∏–∑ —Ä–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö
—á–∏—Å–µ–ª, —Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º —è–≤–ª—è–µ—Ç—Å—è —á–∏—Å–ª–æ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π –æ–¥–∏–Ω–∞—Ä–Ω–æ–≥–æ
—Ç–∏–ø–∞.
<hr></div>
<div class="defun">
<div class="defunheader">
<a 
 id="dx85-124004"></a>
<em>
<!--l. 4539--><p class="noindent" >[–§—É–Ω–∫—Ü–∏—è]</em>¬†<b>signum</b> <i>number</i>
</div>
<!--l. 4541--><p class="indent" >   –ü–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é, <div class="lisp"><tt><div class="tabbing">
(signum <em>x</em>) <span class="math"> ‚â°</span>¬†(if (zerop <em>x</em>) <em>x</em> (/ <em>x</em> (abs <em>x</em>)))
   <br>
<!--l. 4544--><p class="noindent" ></div>
</tt>
</div>
<!--l. 4545--><p class="indent" >   –î–ª—è —Ä–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —á–∏—Å–ª–∞, <b><a 
href="symbols.html#x188-380855r855">signum</a></b> –±—É–¥–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –æ–¥–∏–Ω –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:
<b>-1</b>, <b>0</b> –∏–ª–∏ <b>1</b>, –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —Ç–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —á–∏—Å–ª–æ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º, –Ω—É–ª—ë–º
–∏–ª–∏ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º. –î–ª—è —á–∏—Å–ª–∞ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π, —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –±—É–¥–µ—Ç
—á–∏—Å–ª–æ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π —Ç–æ–≥–æ –∂–µ —Ç–∏–ø–∞ –∏ –∑–Ω–∞—á–µ–Ω–∏–µ–º: <span class="math"> ‚àí 1</span>, <span class="math">0</span> –∏–ª–∏ <span class="math">1</span>. –î–ª—è
–∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ —á–∏—Å–ª–∞ <em>z</em>, <b>(signum <em>z</em>)</b> —è–≤–ª—è–µ—Ç—Å—è –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–º —á–∏—Å–ª–æ–º —Å —Ç–∞–∫–∏–º
–∂–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º (phase), –Ω–æ —Å –µ–¥–∏–Ω–∏—á–Ω—ã–º –º–æ–¥—É–ª–µ–º. –ù–æ –µ—Å–ª–∏ <em>z</em> —Ä–∞–≤–µ–Ω
–∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–º—É –Ω—É–ª—é, —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º —è–≤–ª—è–µ—Ç—Å—è —Å–∞–º–æ —á–∏—Å–ª–æ <em>z</em>. –ù–∞–ø—Ä–∏–º–µ—Ä:
<div class="lisp"><tt><div class="tabbing">
                                                                          

                                                                          
(signum 0) <span class="math"> ‚áí</span>¬†0
   <br>                                                            (signum -3.7L5) <span class="math"> ‚áí</span>¬†-1.0L0<br>
(signum 4/5) <span class="math"> ‚áí</span>¬†1<br>                 (signum #C(7.5 10.0)) <span class="math"> ‚áí</span>¬†#C(0.6 0.8)<br>
(signum #C(0.0 -14.7)) <span class="math"> ‚áí</span>¬†#C(0.0 -1.0)<br>
<!--l. 4560--><p class="noindent" ></div>
</tt>
</div>
<!--l. 4561--><p class="indent" >   –î–ª—è –Ω–µ–∫–æ–º–ø–ª–µ–∫—Å–Ω—ã—Ö —Ä–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —á–∏—Å–µ–ª <b><a 
href="symbols.html#x188-380855r855">signum</a></b> —è–≤–ª—è–µ—Ç—Å—è —Ä–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π
—Ñ—É–Ω–∫—Ü–∏–µ–π, –Ω–æ –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã—Ö —á–∏—Å–µ–ª –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Ä—Ä–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π.
<hr></div>
<div class="defun">
<div class="defunheader">
<a 
 id="dx85-124005"></a>
<em>
<!--l. 4566--><p class="noindent" >[–§—É–Ω–∫—Ü–∏—è]</em>¬†<b>sin</b> <i>radians</i><br />
<a 
 id="dx85-124006"></a>
<em>
[–§—É–Ω–∫—Ü–∏—è]</em>¬†<b>cos</b> <i>radians</i><br />
<a 
 id="dx85-124007"></a>
<em>
[–§—É–Ω–∫—Ü–∏—è]</em>¬†<b>tan</b> <i>radians</i>
</div>
<b>
<!--l. 4570--><p class="indent" >   <a 
href="symbols.html#x188-380865r865">sin</a></b> –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–∏–Ω—É—Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞, <b><a 
href="symbols.html#x188-380297r297">cos</a></b> ‚Äî –∫–æ—Å–∏–Ω—É—Å, <b><a 
href="symbols.html#x188-380954r954">tan</a></b> ‚Äî —Ç–∞–Ω–≥–µ–Ω—Å. –ê—Ä–≥—É–º–µ–Ω—Ç
—Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç—Å—è –∫–∞–∫ —É–≥–æ–ª –≤ —Ä–∞–¥–∏–∞–Ω–∞—Ö. –ê—Ä–≥—É–º–µ–Ω—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–º
—á–∏—Å–ª–æ–º.
<hr></div>
<div class="defun">
<div class="defunheader">
<a 
 id="dx85-124008"></a>
<em>
                                                                          

                                                                          
<!--l. 4576--><p class="noindent" >[–§—É–Ω–∫—Ü–∏—è]</em>¬†<b>cis</b> <i>radians</i>
</div>
<!--l. 4578--><p class="indent" >   –§—É–Ω–∫—Ü–∏—è –≤—ã—á–∏—Å–ª—è–µ—Ç <span class="math"><em>e</em><sup>i‚ãÖradians</sup></span>. –ò–º—è <b><a 
href="symbols.html#x188-380237r237">cis</a></b> –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç ¬´cos + <em>i</em> sin¬ª, –ø–æ—Ç–æ–º—É —á—Ç–æ
<span class="math"><em>e</em><sup>iùúÉ</sup> = cos ùúÉ + <em>i</em> sin ùúÉ</span>. –ê—Ä–≥—É–º–µ–Ω—Ç —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç—Å—è –∫–∞–∫ —É–≥–æ–ª –≤ —Ä–∞–¥–∏–∞–Ω–∞—Ö –∏ –º–æ–∂–µ—Ç
–±—ã—Ç—å –ª—é–±—ã–º –Ω–µ–∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–º —á–∏—Å–ª–æ–º. –†–µ–∑—É–ª—å—Ç–∞—Ç–æ–º —è–≤–ª—è–µ—Ç—Å—è –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ
—á–∏—Å–ª–æ, —É –∫–æ—Ç–æ—Ä–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞—è —á–∞—Å—Ç—å —ç—Ç–æ –∫–æ—Å–∏–Ω—É—Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞, –∏ –º–Ω–∏–º–∞—è
‚Äî —Å–∏–Ω—É—Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞. –î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, —Ä–µ–∑—É–ª—å—Ç–∞—Ç —ç—Ç–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ
—á–∏—Å–ª–æ, —É –∫–æ—Ç–æ—Ä–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç (—Ñ–∞–∑–∞) —Ä–∞–≤–Ω–∞ (mod <span class="math">2‚àïpi</span>) –∏ –º–æ–¥—É–ª—å —Ä–∞–≤–µ–Ω
–µ–¥–∏–Ω–∏—Ü–µ.
_________________________________________________________________<div class="implementation">
<!--l. 4588--><p class="noindent" ><b>–ó–∞–º–µ—Ç–∫–∞ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:</b> –ß–∞—â–µ –≤—Å–µ–≥–æ –¥–µ—à–µ–≤–ª–µ –≤—ã—á–∏—Å–ª–∏—Ç—å —Å–∏–Ω—É—Å –∏ –∫–æ—Å–∏–Ω—É—Å —É–≥–ª–∞
–≤–º–µ—Å—Ç–µ, —á–µ–º –≤—ã–ø–æ–ª–Ω—è—Ç—å –¥–≤–∞ —Ä–∞–∑–¥–µ–ª—å–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏—è.
</div>___________________________________________________________________________________________________________
<hr>
</div>
<div class="defun">
<div class="defunheader">
<a 
 id="dx85-124009"></a>
<em>
<!--l. 4596--><p class="noindent" >[–§—É–Ω–∫—Ü–∏—è]</em>¬†<b>asin</b> <i>number</i><br />
<a 
 id="dx85-124010"></a>
<em>
[–§—É–Ω–∫—Ü–∏—è]</em>¬†<b>acos</b> <i>number</i>
</div>
<b>
<!--l. 4599--><p class="indent" >    <a 
href="symbols.html#x188-380125r125">asin</a></b> –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∞—Ä–∫—Å–∏–Ω—É—Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞, –∏ <b><a 
href="symbols.html#x188-380085r85">acos</a></b> ‚Äî –∞—Ä–∫–∫–æ—Å–∏–Ω—É—Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞.
–†–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç –≤ —Ä–∞–¥–∏–∞–Ω–∞—Ö. –ê—Ä–≥—É–º–µ–Ω—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–º
—á–∏—Å–ª–æ–º.
<!--l. 4602--><p class="indent" >     –§—É–Ω–∫—Ü–∏–∏ –∞—Ä–∫—Å–∏–Ω—É—Å –∏ –∞—Ä–∫–∫–æ—Å–∏–Ω—É—Å –º–æ–≥—É—Ç –±—ã—Ç—å –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã
–¥–ª—è –∞—Ä–≥—É–º–µ–Ω—Ç–∞ <em>z</em> —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º: <div class="tabbing">
–ê—Ä–∫—Å–∏–Ω—É—Å                 <span class="math"> ‚àí<em>i</em> log <img 
src="clm1x.png" alt="(            )
 iz + ‚àö1--‚àí-z2"  class="left" align="middle"></span>
   <br>
–ê—Ä–∫–∫–æ—Å–∏–Ω—É—Å              <span class="math"> ‚àí<em>i</em> log <img 
src="clm2x.png" alt="(    ‚àö ------)
 z + i 1 ‚àí z2"  class="left" align="middle"></span>
                                                                          

                                                                          
   <br>
<!--l. 4608--><p class="noindent" ></div>–°–ª–µ–¥—É–µ—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç <b><a 
href="symbols.html#x188-380125r125">asin</a></b> –∏–ª–∏ <b>acos</b> –º–æ–∂–µ—Ç –±—ã—Ç—å –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–º
—á–∏—Å–ª–æ–º, –¥–∞–∂–µ –µ—Å–ª–∏ –∞—Ä–≥—É–º–µ–Ω—Ç –Ω–µ —è–≤–ª—è–ª—Å—è –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–º. –¢–∞–∫–æ–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç,
–∫–æ–≥–¥–∞ –∞–±—Å–æ–ª—é—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –ø—Ä–µ–≤—ã—à–∞–µ—Ç 1.
<div class="newer">
<!--l. 4614--><p class="indent" >   Kahan <span class="cite">[<a 
href="bib.html#XKAHAN-COMPLEX-FNS">25</a>]</span> suggests for <b><a 
href="symbols.html#x188-380085r85">acos</a></b> the deÔ¨Åning formula <div class="tabbing">
Arc cosine                 <span class="math">2 log <img 
src="clm3x.png" alt="( ‚àò 1+z-  ‚àò -1‚àí-z)
     2 +  i   2"  class="left" align="middle"> 
        i            </span>
   <br>
<!--l. 4619--><p class="noindent" ></div>or even the much simpler <span class="math">(œÄ‚àï2) ‚àí arcsin <em>z</em></span>. Both equations are mathematically
equivalent to the formula shown above.
</div>
__________________________________________________________________________<div class="implementation">
<!--l. 4625--><p class="noindent" ><b>–ó–∞–º–µ—Ç–∫–∞ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:</b> These formulae are mathematically correct, assuming
completely accurate computation. They may be terrible methods for Ô¨Çoating-point
computation. Implementors should consult a good text on numerical analysis. The
formulae given above are not necessarily the simplest ones for real-valued computations,
either; they are chosen to deÔ¨Åne the branch cuts in desirable ways for the complex
case.
</div>___________________________________________________________________________________________________________
<hr>
</div>
<div class="defun">
<div class="defunheader">
<a 
 id="dx85-124011"></a>
<em>
<!--l. 4637--><p class="noindent" >[–§—É–Ω–∫—Ü–∏—è]</em>¬†<b>atan</b> <i>y</i> <tt><a 
href="clmse29.html#x39-620005.2.2">&#x0026;optional</a></tt> <i>x</i>
</div>
<!--l. 4639--><p class="indent" >    –§—É–Ω–∫—Ü–∏—è –≤—ã—á–∏—Å–ª—è–µ—Ç –∞—Ä–∫—Ç–∞–Ω–≥–µ–Ω—Å –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —Ä–∞–¥–∏–∞–Ω–∞—Ö.
<!--l. 4641--><p class="indent" >     –ù–∏ –æ–¥–∏–Ω –∏–∑ –¥–≤—É—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ <em>y</em> –∏ <em>x</em> –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–º. –ó–Ω–∞–∫–∏ <em>y</em> –∏
<em>x</em> –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–≤–∞–¥—Ä–∞–Ω—Ç–∞. <em>x</em> –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω—É–ª—ë–º –ø—Ä–∏
—É—Å–ª–æ–≤–∏–∏, —á—Ç–æ <em>y</em> –Ω–µ –Ω–æ–ª—å. –ó–Ω–∞—á–µ–Ω–∏–µ <b><a 
href="symbols.html#x188-380131r131">atan</a></b> –ª–µ–∂–∏—Ç –º–µ–∂–¥—É <span class="math"> ‚àí pi</span> (–Ω–µ–≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ)
–∏ <span class="math">pi</span> (–≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ). –°–ª–µ–¥—É—é—â–∞—è —Ç–∞–±–ª–∏—Ü–∞ –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ
—Å–ª—É—á–∞–∏.
                                                                          

                                                                          
<div class="flushleft" 
>
<!--l. 4647--><p class="noindent" >
 <!--tex4ht:inline--><div class="tabular"><table width="100%" class="tabular"><tr><td align="left" colspan="2">     <div class="multicolumn"  style="white-space:nowrap; text-align:center;">–£—Å–ª–æ–≤–∏–µ</div>     </td><td align="left" >–î–µ–∫–∞—Ä—Ç–æ–≤–æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ         </td><td align="left" >–ü—Ä–æ–º–µ–∂—É—Ç–æ–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞</td>
</tr><tr><td align="left" ><span class="math">y = +0</span>¬†</td><td align="left" ><span class="math">x &#x003E; 0</span>  </td><td align="left" >–¢–æ—á–Ω–æ –≤—ã—à–µ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–π –æ—Å–∏ x</td><td align="left" >              <span class="math"> + 0</span>              </td>
</tr><tr><td align="left" ><span class="math">y &#x003E; 0</span>  ¬†</td><td align="left" ><span class="math">x &#x003E; 0</span>  </td><td align="left" >–ö–≤–∞–¥—Ä–∞–Ω—Ç I                                </td><td align="left" >    <span class="math"> + 0 &#x003C; result &#x003C; œÄ‚àï2</span>    </td>
</tr><tr><td align="left" ><span class="math">y &#x003E; 0</span>  ¬†</td><td align="left" ><span class="math">x = ¬±0</span></td><td align="left" >–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è –æ—Å—å y                 </td><td align="left" >              <span class="math">œÄ‚àï2</span>              </td>
</tr><tr><td align="left" ><span class="math">y &#x003E; 0</span>  ¬†</td><td align="left" ><span class="math">x &#x003C; 0</span>  </td><td align="left" >–ö–≤–∞–¥—Ä–∞–Ω—Ç II                               </td><td align="left" >     <span class="math">œÄ‚àï2 &#x003C; result &#x003C; œÄ</span>     </td>
</tr><tr><td align="left" ><span class="math">y = +0</span>¬†</td><td align="left" ><span class="math">x &#x003C; 0</span>  </td><td align="left" >–¢–æ—á–Ω–æ –Ω–∏–∂–µ –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ–π –æ—Å–∏ x      </td><td align="left" >                <span class="math">œÄ</span>             </td>
</tr><tr><td align="left" ><span class="math">y = ‚àí0</span>¬†</td><td align="left" ><span class="math">x &#x003C; 0</span>  </td><td align="left" >–¢–æ—á–Ω–æ –≤—ã—à–µ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–π –æ—Å–∏ x </td><td align="left" >                <span class="math">œÄ</span>             </td>
</tr><tr><td align="left" ><span class="math">y &#x003C; 0</span>  ¬†</td><td align="left" ><span class="math">x &#x003C; 0</span>  </td><td align="left" >–ö–≤–∞–¥—Ä–∞–Ω—Ç III                              </td><td align="left" >  <span class="math"> ‚àí œÄ &#x003C; result &#x003C; ‚àíœÄ‚àï2</span>  </td>
</tr><tr><td align="left" ><span class="math">y &#x003C; 0</span>  ¬†</td><td align="left" ><span class="math">x = ¬±0</span></td><td align="left" >–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è –æ—Å—å y                  </td><td align="left" >             <span class="math"> ‚àí œÄ‚àï2</span>             </td>
</tr><tr><td align="left" ><span class="math">y &#x003C; 0</span>  ¬†</td><td align="left" ><span class="math">x &#x003E; 0</span>  </td><td align="left" >–ö–≤–∞–¥—Ä–∞–Ω—Ç IV                              </td><td align="left" >   <span class="math"> ‚àí œÄ‚àï2 &#x003C; result &#x003C; ‚àí0</span>   </td>
</tr><tr><td align="left" ><span class="math">y = ‚àí0</span>¬†</td><td align="left" ><span class="math">x &#x003E; 0</span>  </td><td align="left" >–¢–æ—á–Ω–æ –Ω–∏–∂–µ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–π –æ—Å–∏ x</td><td align="left" >              <span class="math"> ‚àí 0</span>              </td>
</tr><tr><td align="left" ><span class="math">y = +0</span>¬†</td><td align="left" ><span class="math">x = +0</span></td><td align="left" >–†—è–¥–æ–º —Å —Ü–µ–Ω—Ç—Ä–æ–º                        </td><td align="left" >              <span class="math"> + 0</span>              </td>
</tr><tr><td align="left" ><span class="math">y = ‚àí0</span>¬†</td><td align="left" ><span class="math">x = +0</span></td><td align="left" >–†—è–¥–æ–º —Å —Ü–µ–Ω—Ç—Ä–æ–º                        </td><td align="left" >              <span class="math"> ‚àí 0</span>              </td>
</tr><tr><td align="left" ><span class="math">y = +0</span>¬†</td><td align="left" ><span class="math">x = ‚àí0</span></td><td align="left" >–†—è–¥–æ–º —Å —Ü–µ–Ω—Ç—Ä–æ–º                        </td><td align="left" >                <span class="math">œÄ</span>             </td>
</tr><tr><td align="left" ><span class="math">y = ‚àí0</span>¬†</td><td align="left" ><span class="math">x = ‚àí0</span></td><td align="left" >–†—è–¥–æ–º —Å —Ü–µ–Ω—Ç—Ä–æ–º                        </td><td align="left" >              <span class="math"> ‚àí œÄ</span>            </td></tr><tr><td align="left" > ¬†</td></tr></table>
</div></div>
<!--l. 4667--><p class="indent" >   –°–ª–µ–¥—É–µ—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ —Å–ª—É—á–∞–π <span class="math">y = 0,x = 0</span> –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –º–∏–Ω—É—Å –Ω–æ–ª—è
—è–≤–ª—è–µ—Ç—Å—è –æ—à–∏–±–∫–æ–π, –Ω–æ —á–µ—Ç—ã—Ä–µ —Å–ª—É—á–∞—è <span class="math">y = ¬±0,x = ¬±0</span> –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏
—Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –º–∏–Ω—É—Å –Ω–æ–ª—è.
<!--l. 4671--><p class="indent" >   –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å <em>x</em>, <em>y</em> –º–æ–∂–µ—Ç –±—ã—Ç—å –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–º. –†–µ–∑—É–ª—å—Ç–∞—Ç–æ–º —Ñ—É–Ω–∫—Ü–∏–∏
—è–≤–ª—è–µ—Ç—Å—è –∞—Ä–∫—Ç–∞–Ω–≥–µ–Ω—Å <em>y</em>, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω —Å–ª–µ–¥—É—é—â–µ–π
—Ñ–æ—Ä–º—É–ª–æ–π: <div class="tabbing">
–ê—Ä–∫—Ç–∞–Ω–≥–µ–Ω—Å               <span class="math"> log(1+<em>i</em><em>y</em>)‚àílog(1‚àí<em>i</em><em>y</em>) 
             2<em>i</em>         </span>
   <br>
<!--l. 4677--><p class="noindent" ></div>
<!--l. 4679--><p class="indent" >   –î–ª—è –Ω–µ–∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ <em>y</em>, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç –Ω–µ–∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–º –∏
–±—É–¥–µ—Ç –ª–µ–∂–∞—Ç—å –º–µ–∂–¥—É <span class="math"> ‚àí œÄ‚àï2</span> –∏ <span class="math">œÄ‚àï2</span> (–æ–±–∞ –Ω–µ–≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ).
_______________<div class="implementation">
<!--l. 4683--><p class="noindent" ><b>–ó–∞–º–µ—Ç–∫–∞ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:</b> This formula is mathematically correct, assuming
completely accurate computation. It may be a terrible method for Ô¨Çoating-point
computation. Implementors should consult a good text on numerical analysis. The
formula given above is not necessarily the simplest one for real-valued computations,
either; it is chosen to deÔ¨Åne the branch cuts in desirable ways for the complex
case.
                                                                          

                                                                          
</div>
__________________________________________________________________________
<hr>
</div>
<div class="defun">
<div class="defunheader">
<a 
 id="dx85-124012"></a>
<em>
<!--l. 4695--><p class="noindent" >[–ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞]</em>¬†<b>pi</b>
</div>
<!--l. 4697--><p class="indent" >    –î–∞–Ω–Ω–∞—è –≥–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Å–æ–¥–µ—Ä–∂–∏—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞–∏–±–æ–ª–µ–µ
–ø—Ä–∏–±–ª–∏–∂–µ–Ω–Ω–æ–µ –∫ <span class="math">pi</span> –≤ <em>–¥–ª–∏–Ω–Ω–æ–º</em> —Ñ–æ—Ä–º–∞—Ç–µ —á–∏—Å–ª–∞ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π.
–ù–∞–ø—Ä–∏–º–µ—Ä: <div class="lisp"><tt><div class="tabbing">
(defun sind (x)¬†¬†¬†¬†¬†;–ê—Ä–≥—É–º–µ–Ω—Ç –≤ –≥—Ä–∞–¥—É—Å–∞—Ö
     <br>                                                    ¬†¬†(sin (* x (/ (Ô¨Çoat pi x) 180))))<br>
<!--l. 4703--><p class="noindent" ></div>
</tt>
</div>
<!--l. 4704--><p class="indent" >     –ü—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ –∫ <span class="math">pi</span> —Å –¥—Ä—É–≥–∏–º–∏ —Ç–æ—á–Ω–æ—Å—Ç—è–º–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–æ —Å
–ø–æ–º–æ—â—å—é <b>(Ô¨Çoat pi <em>x</em>)</b>, –≥–¥–µ <em>x</em> —è–≤–ª—è–µ—Ç—Å—è —á–∏—Å–ª–æ–º —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π
–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏, –∏–ª–∏ —Å –ø–æ–º–æ—â—å—é <b>(coerce pi <em>type</em>)</b>, –≥–¥–µ <em>type</em> —è–≤–ª—è–µ—Ç—Å—è
–∏–º–µ–Ω–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ —Ç–∏–ø–∞, –∫–∞–∫ –Ω–∞–ø—Ä–∏–º–µ—Ä <b>short-Ô¨Çoat</b>.
<hr></div>
<div class="defun">
<div class="defunheader">
<a 
 id="dx85-124013"></a>
<em>
<!--l. 4711--><p class="noindent" >[–§—É–Ω–∫—Ü–∏—è]</em>¬†<b>sinh</b> <i>number</i><br />
<a 
 id="dx85-124014"></a>
<em>
[–§—É–Ω–∫—Ü–∏—è]</em>¬†<b>cosh</b> <i>number</i><br />
<a 
 id="dx85-124015"></a>
                                                                          

                                                                          
<em>
[–§—É–Ω–∫—Ü–∏—è]</em>¬†<b>tanh</b> <i>number</i><br />
<a 
 id="dx85-124016"></a>
<em>
[–§—É–Ω–∫—Ü–∏—è]</em>¬†<b>asinh</b> <i>number</i><br />
<a 
 id="dx85-124017"></a>
<em>
[–§—É–Ω–∫—Ü–∏—è]</em>¬†<b>acosh</b> <i>number</i><br />
<a 
 id="dx85-124018"></a>
<em>
[–§—É–Ω–∫—Ü–∏—è]</em>¬†<b>atanh</b> <i>number</i>
</div>
<!--l. 4718--><p class="indent" >   –î–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤—ã—á–∏—Å–ª—è—é—Ç –≥–∏–ø–µ—Ä–±–æ–ª–∏—á–µ—Å–∫–∏–π —Å–∏–Ω—É—Å, –∫–æ—Å–∏–Ω—É—Å, —Ç–∞–Ω–≥–µ–Ω—Å,
–∞—Ä–∫—Å–∏–Ω—É—Å, –∞—Ä–∫–∫–æ—Å–∏–Ω—É—Å –∏ –∞—Ä–∫—Ç–∞–Ω–≥–µ–Ω—Å, –∫–æ—Ç–æ—Ä—ã–µ –¥–ª—è –∞—Ä–≥—É–º–µ–Ω—Ç–∞ <em>z</em> –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏
–æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º: <div class="tabbing">
–ì–∏–ø–µ—Ä–±–æ–ª–∏—á–µ—Å–∫–∏–π —Å–∏–Ω—É—Å¬†¬†<span class="math">(<em>e </em> <sup>z </sup> ‚àí<em>e</em><sup>‚àíz</sup>)‚àï2</span>
   <br>                                                 –ì–∏–ø–µ—Ä–±–æ–ª–∏—á–µ—Å–∫–∏–π –∫–æ—Å–∏–Ω—É—Å¬†¬†<span class="math">(<em>e </em> <sup>z </sup> + <em> e</em><sup>‚àíz</sup>)‚àï2</span><br>
–ì–∏–ø–µ—Ä–±–æ–ª–∏—á–µ—Å–∫–∏–π —Ç–∞–Ω–≥–µ–Ω—Å¬†¬†<span class="math">(<em>e </em> <sup>z </sup> ‚àí <em> e</em><sup>‚àíz</sup>)‚àï(<em>e</em><sup>z</sup> + <em>e</em><sup>‚àíz</sup>)</span><br>
–ì–∏–ø–µ—Ä–±–æ–ª–∏—á–µ—Å–∫–∏–π –∞—Ä–∫—Å–∏–Ω—É—Å¬†¬†<span class="math">log<img 
src="clm4x.png" alt="(    ‚àö ------)
 z +   1 + z2"  class="left" align="middle"></span>
   <br>
–ì–∏–ø–µ—Ä–±–æ–ª–∏—á–µ—Å–∫–∏–π –∞—Ä–∫–∫–æ—Å–∏–Ω—É—Å¬†¬†<span class="math">log<img 
src="clm5x.png" alt="(          ‚àò ---------------)
 z + (z + 1 ) (z ‚àí 1)‚àï(z + 1)"  class="left" align="middle"></span>
   <br>
–ì–∏–ø–µ—Ä–±–æ–ª–∏—á–µ—Å–∫–∏–π –∞—Ä–∫—Ç–∞–Ω–≥–µ–Ω—Å¬†¬†<span class="math">log<img 
src="clm6x.png" alt="(       ‚àò ---------)
 (1 + z)  1‚àï(1 ‚àí z2)"  class="left" align="middle"></span>
   <br>
<!--l. 4729--><p class="noindent" ></div>
<!--l. 4731--><p class="indent" >   –°–ª–µ–¥—É–µ—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç <b><a 
href="symbols.html#x188-380086r86">acosh</a></b> –º–æ–∂–µ—Ç –±—ã—Ç—å –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–º, –¥–∞–∂–µ
–µ—Å–ª–∏ –∞—Ä–≥—É–º–µ–Ω—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–º —á–∏—Å–ª–æ–º –Ω–µ –±—ã–ª. –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –µ—Å–ª–∏ –∞—Ä–≥—É–º–µ–Ω—Ç
–º–µ–Ω—å—à–µ 1. –¢–∞–∫–∂–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç <b><a 
href="symbols.html#x188-380132r132">atanh</a></b> –º–æ–∂–µ—Ç –±—ã—Ç—å –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–º, –¥–∞–∂–µ –µ—Å–ª–∏
–∞—Ä–≥—É–º–µ–Ω—Ç –Ω–µ –±—ã–ª –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–º. –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –µ—Å–ª–∏ –∞–±—Å–æ–ª—é—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
–∞—Ä–≥—É–º–µ–Ω—Ç–∞ –±—ã–ª–æ –±–æ–ª—å—à–µ 1.
_______________________________________________<div class="implementation">
<!--l. 4737--><p class="noindent" ><b>–ó–∞–º–µ—Ç–∫–∞ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:</b> –≠—Ç–∏ —Ñ–æ—Ä–º—É–ª—ã –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã, –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞—è
—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ —Ç–æ—á–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è. –ù–æ –æ–Ω–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ—É–¥–æ–±–Ω—ã –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
                                                                          

                                                                          
—á–∏—Å–µ–ª —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π. –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ–ª–∂–Ω—ã –æ–∑–Ω–∞–∫–æ–º–∏—Ç—Å—è —Å
—Ö–æ—Ä–æ—à–µ–π –∫–Ω–∏–≥–æ–π –ø–æ —á–∏—Å–ª–µ–Ω–Ω–æ–º—É –∞–Ω–∞–ª–∏–∑—É. –í—ã—à–µ–ø—Ä–∏–≤–µ–¥—ë–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
—è–≤–ª—è—é—Ç—Å—è —Å–∞–º—ã–º–∏ –ø—Ä–æ—Å—Ç—ã–º–∏ –¥–ª—è –≤–µ—â–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π. –û–Ω–∏ –≤—ã–±—Ä–∞–Ω—ã –¥–ª—è
–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–æ—á–µ–∫ –≤–µ—Ç–≤–ª–µ–Ω–∏–π –¥–ª—è —Å–ª—É—á–∞–µ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã—Ö
—á–∏—Å–µ–ª.
</div>
__________________________________________________________________________
<hr>
</div>
<!--l. 4748--><p class="noindent" >
     <h4 class="subsectionHead"><span class="titlemark">12.5.3   </span> <a 
href="frontmatter.html#QQ2-85-135" id="x85-12500012.5.3">–¢–æ—á–∫–∏ –≤–µ—Ç–≤–ª–µ–Ω–∏—è, –≥–ª–∞–≤–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏ –∫—Ä–∞–µ–≤—ã–µ —É—Å–ª–æ–≤–∏—è –Ω–∞
–∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–π –ø–ª–æ—Å–∫–æ—Å—Ç–∏</a></h4>
<!--l. 4751--><p class="noindent" >–ú–Ω–æ–≥–∏–µ –∏—Ä—Ä–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∏ —Ç—Ä–∞–Ω—Å—Ü–µ–Ω–¥–µ–Ω—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–π
–ø–ª–æ—Å–∫–æ—Å—Ç–∏ –º–Ω–æ–≥–æ–∑–Ω–∞—á–Ω—ã. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ –æ–±—â–µ–º —Å–ª—É—á–∞–µ, –ª–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–∞—è
—Ñ—É–Ω–∫—Ü–∏—è –∏–º–µ–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π. –í
–∫–∞–∂–¥–æ–º —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤—ã–±—Ä–∞–Ω–æ –æ–¥–Ω–æ –≥–ª–∞–≤–Ω–æ–µ
–∑–Ω–∞—á–µ–Ω–∏–µ.
<!--l. 4756--><p class="indent" >     Common Lisp –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–æ—á–∫–∏ –≤–µ—Ç–≤–ª–µ–Ω–∏—è, –≥–ª–∞–≤–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏ –∫—Ä–∞–µ–≤—ã–µ
—É—Å–ª–æ–≤–∏—è –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–∏ –≤ —Å–æ–æ—Ç–≤–µ—Å—Ç–≤–∏–µ —Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º–∏ –¥–ª—è
–∫–æ–º–ø–ª–µ–∫—Å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –≤ APL <span class="cite">[<a 
href="bib.html#XAPL-BRANCH-CUTS">36</a>]</span>. –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ä–∞–∑–¥–µ–ª–∞ –ø–æ –±–æ–ª—å—à–µ–π —á–∞—Å—Ç–∏
—Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ –∏–∑ —ç—Ç–∏—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π.
<div class="new">
<!--l. 4762--><p class="indent" >     Indeed, X3J13 voted in January 1989 <a 
 id="dx85-125001"></a>to alter the direction of continuity for
the branch cuts of <b><a 
href="symbols.html#x188-380131r131">atan</a></b>, and also <a 
 id="dx85-125002"></a>to address the treatment of branch cuts in
implementations that have a distinct Ô¨Çoating-point minus zero.
<!--l. 4770--><p class="indent" >     The treatment of minus zero centers in two-argument <b><a 
href="symbols.html#x188-380131r131">atan</a></b>. If there is no
minus zero, then the branch cut runs just below the negative real axis as before,
and the range of two-argument <b><a 
href="symbols.html#x188-380131r131">atan</a></b> is <span class="math">(‚àíœÄ,œÄ]</span>. If there is a minus zero, however,
then the branch cut runs precisely on the negative real axis, skittering between
pairs of numbers of the form <span class="math"> ‚àí<em>x</em> ¬± 0<em>i</em></span>, and the range of two-argument <b><a 
href="symbols.html#x188-380131r131">atan</a></b> is
<span class="math">[‚àíœÄ,œÄ]</span>.
<!--l. 4777--><p class="indent" >     The treatment of minus zero by all other irrational and transcendental
functions is then speciÔ¨Åed by deÔ¨Åning those functions in terms of two-argument
<b><a 
href="symbols.html#x188-380131r131">atan</a></b>. First, <b><a 
href="symbols.html#x188-380728r728">phase</a></b> is deÔ¨Åned in terms of two-argument <b><a 
href="symbols.html#x188-380131r131">atan</a></b>, and complex <b><a 
href="symbols.html#x188-380082r82">abs</a></b> in
terms of real <b><a 
href="symbols.html#x188-380896r896">sqrt</a></b>; then complex <b><a 
href="symbols.html#x188-380557r557">log</a></b> is deÔ¨Åned in terms of <b><a 
href="symbols.html#x188-380728r728">phase</a></b>, <b><a 
href="symbols.html#x188-380082r82">abs</a></b>, and real
<b><a 
href="symbols.html#x188-380557r557">log</a></b>; then complex <b><a 
href="symbols.html#x188-380896r896">sqrt</a></b> in terms of complex <b><a 
href="symbols.html#x188-380557r557">log</a></b>; and Ô¨Ånally all others are deÔ¨Åned
                                                                          

                                                                          
in terms of these.
<!--l. 4785--><p class="indent" >   Kahan <span class="cite">[<a 
href="bib.html#XKAHAN-COMPLEX-FNS">25</a>]</span> treats these matters in some detail and also suggests speciÔ¨Åc
algorithms for implementing irrational and transcendental functions in IEEE
standard Ô¨Çoating-point arithmetic <span class="cite">[<a 
href="bib.html#XIEEE-PROPOSED-FLOATING-POINT-STANDARD">23</a>]</span>.
<!--l. 4789--><p class="indent" >   Remarks in the Ô¨Årst edition about the direction of the continuity of branch
cuts continue to hold in the absence of minus zero and may be ignored if minus
zero is supported; since all branch cuts happen to run along the principal axes,
they run <em>between</em> plus zero and minus zero, and so each sort of zero is associated
with the obvious quadrant.
</div>
<div class="flushdesc">
      <ul><li><b>
<b><a 
href="symbols.html#x188-380896r896">sqrt</a></b> </b></li>The  branch  cut  for  square  root  lies  along  the  negative  real  axis,
      continuous with quadrant II. The range consists of the right half-plane,
      including the non-negative imaginary axis and excluding the negative
      imaginary axis.
<div class="new">
      <!--l. 4804--><p class="noindent" >X3J13 voted in January 1989 <a 
 id="dx85-125003"></a>to specify certain Ô¨Çoating-point behavior when
      minus zero is supported. As a part of that vote it approved a mathematical
      deÔ¨Ånition of complex square root: <div class="tabbing">
      <span class="math"><img 
src="clm7x.png" alt="‚àöz-"  class="sqrt" > = <em>e</em><sup>(log z)‚àï2
           </sup></span>
      <br>
      <!--l. 4810--><p class="noindent" ></div> This deÔ¨Ånes the branch cuts precisely, whether minus zero is supported or
      not.
      </div>
      <li><b>
<b><a 
href="symbols.html#x188-380728r728">phase</a></b> </b></li>The branch cut for the phase function lies along the negative real axis,
      continuous with quadrant II. The range consists of that portion of the real
      axis between <span class="math"> ‚àí œÄ</span> (exclusive) and <span class="math">œÄ</span> (inclusive).
<div class="new">
                                                                          

                                                                          
      <!--l. 4820--><p class="noindent" >X3J13 voted in January 1989 <a 
 id="dx85-125004"></a>to specify certain Ô¨Çoating-point behavior when
      minus zero is supported. As a part of that vote it approved a mathematical
      deÔ¨Ånition of phase: <div class="tabbing">
      <span class="math"> phase <em>z</em> = arctan(‚Ñë<em>z</em>,‚Ñú<em>z</em>)</span>
      <br>
      <!--l. 4826--><p class="noindent" ></div> where <span class="math">‚Ñë<em>z</em></span> is the imaginary part of <span class="math"><em>z</em></span> and <span class="math">‚Ñú<em>z</em></span> the real part of <span class="math"><em>z</em></span>. This
      deÔ¨Ånes the branch cuts precisely, whether minus zero is supported or
      not.
      </div>
      <li><b>
<b><a 
href="symbols.html#x188-380557r557">log</a></b> </b></li>The branch cut for the logarithm function of one argument (natural
      logarithm) lies along the negative real axis, continuous with quadrant II.
      The domain excludes the origin. For a complex number <span class="math"><em>z</em></span>, <span class="math"> log <em>z</em></span> is deÔ¨Åned to
      be <div class="tabbing">
      <span class="math"> log <em>z</em> = <img 
src="clm8x.png" alt="(log |z|)"  class="left" align="middle"> + <em>i</em>(phase <em>z</em>)</span>
      <br>
      <!--l. 4838--><p class="noindent" ></div> Therefore the range of the one-argument logarithm function is that strip of
      the complex plane containing numbers with imaginary parts between <span class="math"> ‚àí œÄ</span>
      (exclusive) and <span class="math">œÄ</span> (inclusive).
<div class="new">
      <!--l. 4844--><p class="noindent" >The X3J13 vote on minus zero <a 
 id="dx85-125005"></a>would alter that exclusive bound of <span class="math"> ‚àí œÄ</span> to
      be inclusive if minus zero is supported.
      </div>
      <!--l. 4849--><p class="noindent" >The two-argument logarithm function is deÔ¨Åned as <span class="math"> log <sub>b</sub><em>z</em> = (log <em>z</em>)‚àï(log <em>b</em>)</span>.
      This deÔ¨Ånes the principal values precisely. The range of the two-argument
      logarithm function is the entire complex plane. It is an error if <span class="math"><em>z</em></span> is
      zero. If <span class="math"><em>z</em></span> is non-zero and <span class="math"><em>b</em></span> is zero, the logarithm is taken to be
      zero.
                                                                          

                                                                          
      <li><b>
<b><a 
href="symbols.html#x188-380390r390">exp</a></b> </b></li>The simple exponential function has no branch cut.
      <li><b>
<b><a 
href="symbols.html#x188-380392r392">expt</a></b> </b></li>The two-argument exponential function is deÔ¨Åned as <span class="math"><em>b</em><sup>x</sup> = <em>e</em><sup>x log b</sup></span>. This
      deÔ¨Ånes the principal values precisely. The range of the two-argument
      exponential function is the entire complex plane. Regarded as a
      function of <span class="math"><em>x</em></span>, with <span class="math"><em>b</em></span> Ô¨Åxed, there is no branch cut. Regarded as a
      function of <em>b</em>, with <span class="math"><em>x</em></span> Ô¨Åxed, there is in general a branch cut along the
      negative real axis, continuous with quadrant II. The domain excludes
      the origin. By deÔ¨Ånition, <span class="math">0<sup>0</sup> = 1</span>. If <span class="math"><em>b</em> = 0</span> and the real part of <span class="math"><em>x</em></span>
      is strictly positive, then <span class="math"><em>b</em><sup>x</sup> = 0</span>. For all other values of <span class="math"><em>x</em></span>, <span class="math">0<sup>x</sup></span> is an
      error.
      <li><b>
<b><a 
href="symbols.html#x188-380125r125">asin</a></b> </b></li>The following deÔ¨Ånition for arc sine determines the range and branch cuts:
      <div class="tabbing">
      <span class="math"> arcsin <em>z</em> = ‚àí<em>i</em> log <img 
src="clm9x.png" alt="(            )
 iz + ‚àö1-‚àí-z2"  class="left" align="middle"></span>
      <br>
      <!--l. 4877--><p class="noindent" ></div>
<div class="newer">
      <!--l. 4879--><p class="noindent" >This is equivalent to the formula <div class="tabbing">
      <span class="math"> arcsin <em>z</em> = arcsinh <em>i</em><em>z</em> 
     <em>i</em>     </span>
      <br>
      <!--l. 4883--><p class="noindent" ></div> recommended by Kahan <span class="cite">[<a 
href="bib.html#XKAHAN-COMPLEX-FNS">25</a>]</span>.
      </div>
                                                                          

                                                                          
      <!--l. 4887--><p class="noindent" >The branch cut for the arc sine function is in two pieces: one along the
      negative real axis to the left of <span class="math"> ‚àí 1</span> (inclusive), continuous with quadrant II,
      and one along the positive real axis to the right of 1 (inclusive),
      continuous with quadrant IV. The range is that strip of the complex
      plane containing numbers whose real part is between <span class="math"> ‚àí œÄ‚àï2</span> and
      <span class="math">œÄ‚àï2</span>. A number with real part equal to <span class="math"> ‚àí œÄ‚àï2</span> is in the range if
      and only if its imaginary part is non-negative; a number with real
      part equal to <span class="math">œÄ‚àï2</span> is in the range if and only if its imaginary part is
      non-positive.
      <li><b>
<b><a 
href="symbols.html#x188-380085r85">acos</a></b> </b></li>The following deÔ¨Ånition for arc cosine determines the range and branch
      cuts: <div class="tabbing">
      <span class="math"> arccos <em>z</em> = ‚àí<em>i</em> log <img 
src="clm10x.png" alt="(z + i‚àö1-‚àí-z2)"  class="left" align="middle"></span>
      <br>
      <!--l. 4902--><p class="noindent" ></div> or, which is equivalent, <div class="tabbing">
      <span class="math"> arccos <em>z</em> = œÄ 
2  ‚àí arcsin <em>z</em></span>
      <br>
      <!--l. 4906--><p class="noindent" ></div> The branch cut for the arc cosine function is in two pieces: one along the
      negative real axis to the left of <span class="math"> ‚àí 1</span> (inclusive), continuous with quadrant II,
      and one along the positive real axis to the right of 1 (inclusive), continuous
      with quadrant IV. This is the same branch cut as for arc sine. The range is
      that strip of the complex plane containing numbers whose real part is
      between zero and <span class="math">œÄ</span>. A number with real part equal to zero is in the range if
      and only if its imaginary part is non-negative; a number with real
      part equal to <span class="math">œÄ</span> is in the range if and only if its imaginary part is
      non-positive.
                                                                          

                                                                          
      <li><b>
<b><a 
href="symbols.html#x188-380131r131">atan</a></b> </b></li>The following deÔ¨Ånition for (one-argument) arc tangent determines the
      range and branch cuts:
<div class="new">
      <!--l. 4923--><p class="noindent" >X3J13 voted in January 1989 <a 
 id="dx85-125006"></a>to replace the formula shown above with the
      formula <div class="tabbing">
      <span class="math"> arctan <em>z</em> = log(1 + <em>i</em><em>z</em>) ‚àí log(1 ‚àí<em>i</em><em>z</em>) 
              2<em>i</em>              </span>
      <br>
      <!--l. 4928--><p class="noindent" ></div> This is equivalent to the formula <div class="tabbing">
      <span class="math"> arctan <em>z</em> = arctanh <em>i</em><em>z</em> 
     <em>i</em>      </span>
      <br>
      <!--l. 4932--><p class="noindent" ></div> recommended by Kahan <span class="cite">[<a 
href="bib.html#XKAHAN-COMPLEX-FNS">25</a>]</span>. It causes the upper branch cut to be
      continuous with quadrant I rather than quadrant II, and the lower branch
      cut to be continuous with quadrant III rather than quadrant IV; otherwise
      it agrees with the formula of the Ô¨Årst edition. Therefore this change alters
      the result returned by <b><a 
href="symbols.html#x188-380131r131">atan</a></b> only for arguments on the positive imaginary
      axis that are of magnitude greater than 1. The full description for this new
      formula is as follows.
      <!--l. 4941--><p class="noindent" >The branch cut for the arc tangent function is in two pieces: one along the
      positive imaginary axis above <em>i</em> (exclusive), continuous with quadrant I, and
      one along the negative imaginary axis below <span class="math"> ‚àí<em>i</em></span> (exclusive), continuous
      with quadrant III. The points <em>i</em> and <span class="math"> ‚àí<em>i</em></span> are excluded from the domain. The
      range is that strip of the complex plane containing numbers whose real
      part is between <span class="math"> ‚àí œÄ‚àï2</span> and <span class="math">œÄ‚àï2</span>. A number with real part equal to
      <span class="math"> ‚àí œÄ‚àï2</span> is in the range if and only if its imaginary part is strictly
      negative; a number with real part equal to <span class="math">œÄ‚àï2</span> is in the range if
      and only if its imaginary part is strictly positive. Thus the range
                                                                          

                                                                          
      of the arc tangent function is <em>not</em> identical to that of the arc sine
      function.
      </div>
      <li><b>
<b><a 
href="symbols.html#x188-380126r126">asinh</a></b> </b></li>The following deÔ¨Ånition for the inverse hyperbolic sine determines the
      range and branch cuts: <div class="tabbing">
      <span class="math"> arcsinh <em>z</em> = log <img 
src="clm11x.png" alt="(    ‚àö ------)
 z +   1 + z2"  class="left" align="middle"></span>
      <br>
      <!--l. 4959--><p class="noindent" ></div> The branch cut for the inverse hyperbolic sine function is in two pieces: one
      along the positive imaginary axis above <em>i</em> (inclusive), continuous with
      quadrant I, and one along the negative imaginary axis below <span class="math"> ‚àí<em>i</em></span> (inclusive),
      continuous with quadrant III. The range is that strip of the complex
      plane containing numbers whose imaginary part is between <span class="math"> ‚àí œÄ‚àï2</span>
      and <span class="math">œÄ‚àï2</span>. A number with imaginary part equal to <span class="math"> ‚àí œÄ‚àï2</span> is in the
      range if and only if its real part is non-positive; a number with
      imaginary part equal to <span class="math">œÄ‚àï2</span> is in the range if and only if its real part is
      non-negative.
      <li><b>
<b><a 
href="symbols.html#x188-380086r86">acosh</a></b> </b></li>The following deÔ¨Ånition for the inverse hyperbolic cosine determines the
      range and branch cuts: <div class="tabbing">
      <span class="math"> arccosh <em>z</em> = log <img 
src="clm12x.png" alt="(           ‚àò --------------)
  z + (z + 1) (z ‚àí 1)‚àï(z + 1)"  class="left" align="middle"></span>
      <br>
      <!--l. 4975--><p class="noindent" ></div>
<div class="newer">
      <!--l. 4978--><p class="noindent" >Kahan <span class="cite">[<a 
href="bib.html#XKAHAN-COMPLEX-FNS">25</a>]</span> suggests the formula <div class="tabbing">
                                                                          

                                                                          
      <span class="math"> arccosh <em>z</em> = 2 log <img 
src="clm13x.png" alt="(‚àò ---------  ‚àò ---------)
   (z + 1 )‚àï2 +  (z ‚àí 1)‚àï2"  class="left" align="middle"></span>
      <br>
      <!--l. 4981--><p class="noindent" ></div> pointing out that it yields the same principal value but eliminates a
      gratuitous removable singularity at <span class="math"><em>z</em> = ‚àí1</span>. A proposal was submitted to
      X3J13 in September 1989 to replace the formula <b><a 
href="symbols.html#x188-380086r86">acosh</a></b> with that
      recommended by Kahan. There is a good possibility that it will be
      adopted.
      </div>
      <!--l. 4989--><p class="noindent" >The branch cut for the inverse hyperbolic cosine function lies along the real
      axis to the left of 1 (inclusive), extending indeÔ¨Ånitely along the negative real
      axis, continuous with quadrant II and (between 0 and 1) with quadrant I.
      The range is that half-strip of the complex plane containing numbers whose
      real part is non-negative and whose imaginary part is between <span class="math"> ‚àí œÄ</span>
      (exclusive) and <span class="math">œÄ</span> (inclusive). A number with real part zero is in
      the range if its imaginary part is between zero (inclusive) and <span class="math">œÄ</span>
      (inclusive).
      <li><b>
<b><a 
href="symbols.html#x188-380132r132">atanh</a></b> </b></li>The following deÔ¨Ånition for the inverse hyperbolic tangent determines the
      range and branch cuts:
<div class="newer">
      <!--l. 5004--><p class="noindent" >WARNING! <em>The formula shown above for hyperbolic arc tangent is
      incorrect.</em> It is not a matter of incorrect branch cuts; it simply does not
      compute anything like a hyperbolic arc tangent. This unfortunate error in
      the Ô¨Årst edition was the result of mistranscribing a (correct) APL formula
      from PenÔ¨Åeld&#x2019;s paper <span class="cite">[<a 
href="bib.html#XAPL-BRANCH-CUTS">36</a>]</span>. The formula should have been transcribed as
      <div class="tabbing">
      <span class="math"> arctanh <em>z</em> = log <img 
src="clm14x.png" alt="(      ‚àò ----------)
 (1 + z)  1‚àï(1 ‚àí z2)"  class="left" align="middle"></span>
      <br>
                                                                          

                                                                          
      <!--l. 5011--><p class="noindent" ></div>
      </div>
<div class="newer">
      <!--l. 5015--><p class="noindent" >A proposal was submitted to X3J13 in September 1989 to replace the
      formula <b><a 
href="symbols.html#x188-380132r132">atanh</a></b> with that recommended by Kahan <span class="cite">[<a 
href="bib.html#XKAHAN-COMPLEX-FNS">25</a>]</span>: <div class="tabbing">
      <span class="math"> arctanh <em>z</em> = <img 
src="clm15x.png" alt="(log(1 + z) ‚àí log (1 ‚àí z))"  class="left" align="middle"> 
               2                </span>
      <br>
      <!--l. 5019--><p class="noindent" ></div> There is a good possibility that it will be adopted. If it is, the
      complete description of the branch cuts of <b><a 
href="symbols.html#x188-380132r132">atanh</a></b> will then be as
      follows.
      <!--l. 5023--><p class="noindent" >The branch cut for the inverse hyperbolic tangent function is in two pieces:
      one along the negative real axis to the left of <span class="math"> ‚àí 1</span> (inclusive), continuous
      with quadrant II, and one along the positive real axis to the right of 1
      (inclusive), continuous with quadrant IV. The points <span class="math"> ‚àí 1</span> and 1 are
      excluded from the domain. The range is that strip of the complex
      plane containing numbers whose imaginary part is between <span class="math"> ‚àí œÄ‚àï2</span>
      and <span class="math">œÄ‚àï2</span>. A number with imaginary part equal to <span class="math"> ‚àí œÄ‚àï2</span> is in the
      range if and only if its real part is strictly positive; a number with
      imaginary part equal to <span class="math">œÄ‚àï2</span> is in the range if and only if its real
      part is strictly negative. Thus the range of the inverse hyperbolic
      tangent function is <em>not</em> the same as that of the inverse hyperbolic sine
      function.
      </div></ul>
</div>
<!--l. 5040--><p class="indent" >   With these deÔ¨Ånitions, the following useful identities are obeyed throughout
the applicable portion of the complex domain, even on the branch cuts:
<div class="flushleft" 
>
<!--l. 5045--><p class="noindent" >
 <!--tex4ht:inline--><div class="tabular"><table width="100%" class="tabular"><tr><td align="left" ><span class="math"> sin <em>i</em><em>z</em> = <em>i</em> sinh <em>z</em></span> ¬†</td><td align="left" ><span class="math"> sinh <em>i</em><em>z</em> = <em>i</em> sin <em>z</em></span>       </td><td align="left" ><span class="math"> arctan <em>i</em><em>z</em> = <em>i</em> arctanh <em>z</em></span></td></tr><tr><td align="left" ><span class="math"> cos <em> i </em> <em> z </em> = cosh <em> z </em> </span> ¬†</td> <td align="left" ><span class="math"> cosh <em> i </em> <em> z </em> = cos <em> z </em> </span> </td> <td align="left" ><span class="math"> arcsinh <em> i </em> <em> z </em> = <em> i </em> arcsin <em> z </em> </span></td>
</tr><tr><td align="left" ><span class="math"> tan <em>i</em><em>z</em> = <em>i</em> tanh <em>z</em></span>¬†</td><td align="left" ><span class="math"> arcsin <em>i</em><em>z</em> = <em>i</em> arcsinh <em>z</em></span></td><td align="left" ><span class="math"> arctanh <em>i</em><em>z</em> = <em>i</em> arctan <em>z</em></span></td></tr></table>
</div></div>
                                                                          

                                                                          
<div class="new">
<!--l. 5054--><p class="indent" >   I thought it would be useful to provide some graphs illustrating the behavior
of the irrational and transcendental functions in the complex plane. It also
provides an opportunity to show oÔ¨Ä the Common Lisp code that was used to
generate them.
<!--l. 5059--><p class="indent" >   Imagine the complex plane to be decorated as follows. The real and imaginary
axes are painted with thick lines. Parallels from the axes on both sides at
distances of 1, 2, and 3 are painted with thin lines; these parallels are doubly
inÔ¨Ånite lines, as are the axes. Four annuli (rings) are painted in gradated shades of
gray. Ring 1, the inner ring, consists of points whose radial distances
from the origin lie in the range <span class="math">[1‚àï4, 1‚àï2]</span>; ring 2 is in the radial range
<span class="math">[3‚àï4, 1]</span>; ring 3, in the range <span class="math">[œÄ‚àï2, 2]</span>; and ring 4, in the range <span class="math">[3,œÄ]</span>. Ring <em>j</em> is
divided into <span class="math">2<sup>j+1</sup></span> equal sectors, with each sector painted a diÔ¨Äerent shade of
gray, darkening as one proceeds counterclockwise from the positive real
axis.
<!--l. 5072--><p class="indent" >   We can illustrate the behavior of a numerical function <span class="math"><em>f</em></span> by considering how it
maps the complex plane to itself. More speciÔ¨Åcally, consider each point <span class="math"><em>z</em></span> of the
decorated plane. We decorate a new plane by coloring the point <span class="math"><em>f</em>(<em>z</em>)</span> with the same
color that point <span class="math"><em>z</em></span> had in the original decorated plane. In other words, the newly
decorated plane illustrates how the <span class="math"><em>f</em></span> maps the axes, other horizontal and vertical
lines, and annuli.
<!--l. 5079--><p class="indent" >   In each Ô¨Ågure we will show only a fragment of the complex plane, with the real
axis horizontal in the usual manner (<span class="math"> ‚àí‚àû</span> to the left, <span class="math"> + ‚àû</span> to the right) and the
imaginary axis vertical (<span class="math"> ‚àí‚àû<em>i</em></span> below, <span class="math"> + ‚àû<em>i</em></span> above). Each fragment shows a region
containing points whose real and imaginary parts are in the range <span class="math">[‚àí4.1, 4.1]</span>. The
axes of the new plane are shown as very thin lines, with large tick marks
at integer coordinates and somewhat smaller tick marks at multiples of
<span class="math">œÄ‚àï2</span>.
<!--l. 5087--><p class="indent" >   Figure¬†<a 
href="#x85-1250071">12.1<!--tex4ht:ref: IDENTITY-PLOT --></a> shows the result of plotting the <b><a 
href="symbols.html#x188-380487r487">identity</a></b> function (quite literally);
the graph exhibits the decoration of the original plane.
<!--l. 5090--><p class="indent" >   Figures¬†<a 
href="#x85-1250082">12.2<!--tex4ht:ref: SECOND-PLOT --></a> through¬†<a 
href="#x85-12502620">12.20<!--tex4ht:ref: LAST-PLOT --></a> show the graphs for the functions <b><a 
href="symbols.html#x188-380896r896">sqrt</a></b>, <b><a 
href="symbols.html#x188-380390r390">exp</a></b>, <b><a 
href="symbols.html#x188-380557r557">log</a></b>,
<b><a 
href="symbols.html#x188-380865r865">sin</a></b>, <b><a 
href="symbols.html#x188-380125r125">asin</a></b>, <b><a 
href="symbols.html#x188-380297r297">cos</a></b>, <b><a 
href="symbols.html#x188-380085r85">acos</a></b>, <b><a 
href="symbols.html#x188-380954r954">tan</a></b>, <b><a 
href="symbols.html#x188-380131r131">atan</a></b>, <b><a 
href="symbols.html#x188-380868r868">sinh</a></b>, <b><a 
href="symbols.html#x188-380126r126">asinh</a></b>, <b><a 
href="symbols.html#x188-380298r298">cosh</a></b>, <b><a 
href="symbols.html#x188-380086r86">acosh</a></b>, <b><a 
href="symbols.html#x188-380955r955">tanh</a></b>, and <b><a 
href="symbols.html#x188-380132r132">atanh</a></b>,
and as a bonus, the graphs for the functions <span class="math"><img 
src="clm16x.png" alt="‚àö ------
  1 ‚àí z2"  class="sqrt" ></span>, <span class="math"><img 
src="clm17x.png" alt="‚àö ------
  1 + z2"  class="sqrt" ></span>, <span class="math">(<em>z</em> ‚àí 1)‚àï(<em>z</em> + 1)</span>, and
<span class="math">(1 + <em>z</em>)‚àï(1 ‚àí<em>z</em>)</span>. All of these are related to the trigonometric functions in various
ways. For example, if <span class="math"><em>f</em>(<em>z</em>) = (<em>z</em> ‚àí 1)‚àï(<em>z</em> + 1)</span>, then <span class="math"> tanh <em>z</em> = <em>f</em>(<em>e</em><sup>2z</sup>)</span>, and if
<span class="math"><em>g</em>(<em>z</em>) = <img 
src="clm18x.png" alt="‚àö -----2
  1 ‚àí z"  class="sqrt" ></span>, then <span class="math"> cos <em>z</em> = <em>g</em>(sin <em>z</em>)</span>. It is instructive to examine the graph for
<span class="math"><img 
src="clm19x.png" alt="‚àö ------
  1 ‚àí z2"  class="sqrt" ></span> and try to visualize how it transforms the graph for <b><a 
href="symbols.html#x188-380865r865">sin</a></b> into the graph
for¬†<b><a 
href="symbols.html#x188-380297r297">cos</a></b>.
                                                                          

                                                                          
<!--l. 5100--><p class="indent" >   Each Ô¨Ågure is accompanied by a commentary on what maps to what and other
interesting features. None of this material is terribly new; much of it may be found
in any good textbook on complex analysis. I believe that the particular form
in which the graphs are presented is novel, as well as the fact that the
graphs have been generated as PostScript <span class="cite">[<a 
href="bib.html#XADOBE-POSTSCRIPT">1</a>]</span> code by Common Lisp code.
This PostScript code was then fed directly to the typesetting equipment
that set the pages for this book. Samples of this PostScript code follow
the Ô¨Ågures themselves, after which the code for the entire program is
presented.
<!--l. 5109--><p class="indent" >   In the commentaries that accompany the Ô¨Ågures I sometimes speak of mapping
the points <span class="math"> ¬±‚àû</span> or <span class="math"> ¬±‚àûi</span>. When I say that function <span class="math">f</span> maps <span class="math"> + ‚àû</span> to a certain
point <span class="math">z</span>, I mean that <div class="tabbing">
<span class="math">z = lim <sub>x‚Üí+‚àû</sub>f(x + 0 i)</span>
   <br>
<!--l. 5114--><p class="noindent" ></div>Similarly, when I say that <span class="math">f</span> maps <span class="math"> ‚àí‚àûi</span> to <span class="math">z</span>, I mean that <div class="tabbing">
<span class="math">z = lim <sub>y‚Üí‚àí‚àû</sub>f(0 + yi)</span>
   <br>
<!--l. 5119--><p class="noindent" ></div>In other words, I am considering a limit as one travels out along one of the
main axes. I¬†also speak in a similar manner of mapping <em>to</em> one of these
inÔ¨Ånities.
</div>
                                                                          

                                                                          
   <hr class="figure"><div class="figure" 
>
                                                                          

                                                                          
<a 
 id="x85-1250071"></a>
                                                                          

                                                                          
<br /> <div class="caption" 
><span class="id">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ¬†12.1:  </span><span  
class="content">Initial  Decoration  of  the  Complex  Plane  (Identity
Function)</span></div><!--tex4ht:label?: x85-1250071 -->
<!--l. 5144--><p class="noindent" ><img 
src="identity-plot.png" alt="PIC"  
><br 
class="newline" />This Ô¨Ågure was produced in exactly the same manner as succeeding Ô¨Ågures, simply by
plotting the function <b><a 
href="symbols.html#x188-380487r487">identity</a></b> instead of a numerical function. Thus the Ô¨Årst of these
Ô¨Ågures was produced by the last function of the Ô¨Årst edition. I knew it would come in
handy someday!
                                                                          

                                                                          
   </div><hr class="endfigure">
                                                                          

                                                                          
<!--l. 5155--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                          

                                                                          
<a 
 id="x85-1250082"></a>
                                                                          

                                                                          
<br /> <div class="caption" 
><span class="id">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ¬†12.2: </span><span  
class="content">Illustration of the Range of the Square Root Function</span></div><!--tex4ht:label?: x85-1250082 -->
<!--l. 5158--><p class="noindent" ><img 
src="sqrt-plot.png" alt="PIC"  
><br 
class="newline" />The <b><a 
href="symbols.html#x188-380896r896">sqrt</a></b> function maps the complex plane into the right half of the plane by slitting it
along the negative real axis and then sweeping it around as if half-closing a folding fan.
The fan also shrinks, as if it were made of cotton and had gotten wetter at the
periphery than at the center. The positive real axis is mapped onto itself. The
negative real axis is mapped onto the positive imaginary axis (but if minus zero is
supported, then <span class="math"> ‚àí<em>x</em> + 0<em>i</em></span> is mapped onto the positive imaginary axis and <span class="math"> ‚àí<em>x</em> ‚àí 0<em>i</em></span>
onto the negative imaginary axis, assuming <span class="math"><em>x</em> &#x003E; 0</span>). The positive imaginary
axis is mapped onto the northeast diagonal, and the negative imaginary axis
onto the southeast diagonal. More generally, lines are mapped to rectangular
hyperbolas (or fragments thereof) centered on the origin; lines through the
origin are mapped to degenerate hyperbolas (perpendicular lines through the
origin).
                                                                          

                                                                          
<!--l. 5174--><p class="indent" >   </div><hr class="endfigure">
                                                                          

                                                                          
<!--l. 5178--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                          

                                                                          
<a 
 id="x85-1250093"></a>
                                                                          

                                                                          
<br /> <div class="caption" 
><span class="id">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ¬†12.3: </span><span  
class="content">Illustration of the Range of the Exponential Function</span></div><!--tex4ht:label?: x85-1250093 -->
<!--l. 5180--><p class="noindent" ><img 
src="exp-plot.png" alt="PIC"  
><br 
class="newline" />The <b><a 
href="symbols.html#x188-380390r390">exp</a></b> function maps horizontal lines to radii and maps vertical lines to circles
centered at the origin. The origin is mapped to 1. (It is instructive to compare this graph
with those of other functions that map the origin to 1, for example <span class="math">(1 + <em>z</em>)‚àï(1 ‚àí<em>z</em>)</span>, <span class="math"> cos<em>z</em></span>,
and <span class="math"><img 
src="clm20x.png" alt="‚àö1--‚àí-z2-"  class="sqrt" ></span>.) The entire real axis is mapped to the positive real axis, with <span class="math"> ‚àí‚àû</span>
mapping to the origin and <span class="math"> + ‚àû</span> to itself. The imaginary axis is mapped to
the unit circle with inÔ¨Ånite multiplicity (period <span class="math">2œÄ</span>); therefore the mapping of
the imaginary inÔ¨Ånities <span class="math"> ¬±‚àû<em>i</em></span> is indeterminate. It follows that the entire left
half-plane is mapped to the interior of the unit circle, and the right half-plane
is mapped to the exterior of the unit circle. A line at any angle other than
horizontal or vertical is mapped to a logarithmic spiral (but this is not illustrated
here).
                                                                          

                                                                          
<!--l. 5195--><p class="indent" >   </div><hr class="endfigure">
                                                                          

                                                                          
<!--l. 5199--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                          

                                                                          
<a 
 id="x85-1250104"></a>
                                                                          

                                                                          
<br /> <div class="caption" 
><span class="id">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ¬†12.4:  </span><span  
class="content">Illustration  of  the  Range  of  the  Natural  Logarithm
Function</span></div><!--tex4ht:label?: x85-1250104 -->
<!--l. 5201--><p class="noindent" ><img 
src="log-plot.png" alt="PIC"  
><br 
class="newline" />The <b><a 
href="symbols.html#x188-380557r557">log</a></b> function, which is the inverse of <b><a 
href="symbols.html#x188-380390r390">exp</a></b>, naturally maps radial lines to horizontal
lines and circles centered at the origin to vertical lines. The interior of the unit circle is
thus mapped to the entire left half-plane, and the exterior of the unit circle is mapped to
the right half-plane. The positive real axis is mapped to the entire real axis, and the
negative real axis to a horizontal line of height <span class="math">œÄ</span>. The positive and negative imaginary
axes are mapped to horizontal lines of height <span class="math"> ¬± œÄ‚àï2</span>. The origin is mapped to
<span class="math"> ‚àí‚àû</span>.
                                                                          

                                                                          
<!--l. 5211--><p class="indent" >   </div><hr class="endfigure">
                                                                          

                                                                          
<!--l. 5215--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                          

                                                                          
<a 
 id="x85-1250115"></a>
                                                                          

                                                                          
<br /> <div class="caption" 
><span class="id">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ¬†12.5: </span><span  
class="content">Illustration of the Range of the Function <span class="math">(<em>z</em>‚àí1)‚àï(<em>z</em>+1)</span></span></div><!--tex4ht:label?: x85-1250115 -->
<!--l. 5217--><p class="noindent" ><img 
src="minus-over-plus-plot.png" alt="PIC"  
><br 
class="newline" />A line is a degenerate circle with inÔ¨Ånite radius; when I say ‚Äúcircles‚Äù here I also mean
lines. Then <span class="math">(<em>z</em> ‚àí 1)‚àï(<em>z</em> + 1)</span> maps circles into circles. All circles through <span class="math"> ‚àí 1</span> become lines;
all lines become circles through <span class="math">1</span>. The real axis is mapped onto itself: 1 to the origin,
the origin to <span class="math"> ‚àí 1</span>, <span class="math"> ‚àí 1</span> to inÔ¨Ånity, and inÔ¨Ånity to 1. The imaginary axis becomes the unit
circle; <em>i</em> is mapped to itself, as is <span class="math"> ‚àí<em>i</em></span>. Thus the entire right half-plane is mapped to the
interior of the unit circle, the unit circle interior to the left half-plane, the left
half-plane to the unit circle exterior, and the unit circle exterior to the right
half-plane. Imagine the complex plane to be a vast sea. The Colossus of Rhodes
straddles the origin, its left foot on <em>i</em> and its right foot on <span class="math"> ‚àí<em>i</em></span>. It bends down
and brieÔ¨Çy paddles water between its legs so furiously that the water directly
beneath is pushed out into the entire area behind it; much that was behind swirls
forward to either side; and all that was before is sucked in to lie between its
feet.
                                                                          

                                                                          
<!--l. 5236--><p class="indent" >   </div><hr class="endfigure">
                                                                          

                                                                          
<!--l. 5240--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                          

                                                                          
<a 
 id="x85-1250126"></a>
                                                                          

                                                                          
<br /> <div class="caption" 
><span class="id">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ¬†12.6: </span><span  
class="content">Illustration of the Range of the Function <span class="math">(1+<em>z</em>)‚àï(1‚àí<em>z</em>)</span></span></div><!--tex4ht:label?: x85-1250126 -->
<!--l. 5242--><p class="noindent" ><img 
src="plus-over-minus-plot.png" alt="PIC"  
><br 
class="newline" />The function <span class="math"><em>h</em>(<em>z</em>) = (1 + <em>z</em>)‚àï(1 ‚àí<em>z</em>)</span> is the inverse of <span class="math"><em>f</em>(<em>z</em>) = (<em>z</em> ‚àí 1)‚àï(<em>z</em> + 1)</span>; that is,
<span class="math"><em>h</em>(<em>f</em>(<em>z</em>)) = <em>f</em>(<em>h</em>(<em>z</em>)) = <em>z</em></span>. At Ô¨Årst glance, the graph of <span class="math"><em>h</em></span> appears to be that of <span class="math"><em>f</em></span> Ô¨Çipped
left-to-right, or perhaps reÔ¨Çected in the origin, but careful consideration of the shaded
annuli reveals that this is not so; something more subtle is going on. Note that
<span class="math"><em>f</em>(<em>f</em>(<em>z</em>)) = <em>h</em>(<em>h</em>(<em>z</em>)) = <em>g</em>(<em>z</em>) = ‚àí1‚àï<em>z</em></span>. The functions <span class="math"><em>f</em></span>, <span class="math"><em>g</em></span>, <span class="math"><em>h</em></span>, and the identity function thus form
a group under composition, isomorphic to the group of the cyclic permutations of the
points <span class="math"> ‚àí 1</span>, <span class="math">0</span>, <span class="math">1</span>, and <span class="math">‚àû</span>, as indeed these functions accomplish the four possible cyclic
permutations on those points. This function group is a subset of the group of bilinear
transformations <span class="math">(<em>a</em><em>z</em> + <em>b</em>)‚àï(<em>c</em><em>z</em> + <em>d</em>)</span>, all of which are conformal (angle-preserving) and map
circles onto circles. Now, doesn&#x2019;t that tangle of circles through <span class="math"> ‚àí 1</span> look like something
the cat got into?
                                                                          

                                                                          
<!--l. 5261--><p class="indent" >   </div><hr class="endfigure">
                                                                          

                                                                          
<!--l. 5265--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                          

                                                                          
<a 
 id="x85-1250137"></a>
                                                                          

                                                                          
<br /> <div class="caption" 
><span class="id">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ¬†12.7: </span><span  
class="content">Illustration of the Range of the Sine Function</span></div><!--tex4ht:label?: x85-1250137 -->
<!--l. 5267--><p class="noindent" ><img 
src="sin-plot.png" alt="PIC"  
><br 
class="newline" />We are used to seeing <b><a 
href="symbols.html#x188-380865r865">sin</a></b> looking like a wiggly ocean wave, graphed vertically as a
function of the real axis only. Here is a diÔ¨Äerent view. The entire real axis is mapped to
the segment <span class="math">[‚àí1,1]</span> of the real axis with inÔ¨Ånite multiplicity (period <span class="math">2œÄ</span>). The imaginary
axis is mapped to itself as if by <b><a 
href="symbols.html#x188-380868r868">sinh</a></b> considered as a real function. The origin is mapped
to itself. Horizontal lines are mapped to ellipses with foci at <span class="math"> ¬± 1</span> (note that two
horizontal lines equidistant from the real axis will map onto the same ellipse). Vertical
lines are mapped to hyperbolas with the same foci. There is a curious accident: the
ellipse for horizontal lines at distance <span class="math"> ¬± 1</span> from the real axis appears to intercept the
real axis at <span class="math"> ¬± œÄ‚àï2 ‚âà¬±1.57‚Ä¶</span> but this is not so; the intercepts are actually at
<span class="math"> ¬± (<em>e</em> + 1‚àï<em>e</em>)‚àï2 ‚âà¬±1.54‚Ä¶</span>.
                                                                          

                                                                          
<!--l. 5281--><p class="indent" >   </div><hr class="endfigure">
                                                                          

                                                                          
<!--l. 5285--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                          

                                                                          
<a 
 id="x85-1250148"></a>
                                                                          

                                                                          
<br /> <div class="caption" 
><span class="id">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ¬†12.8: </span><span  
class="content">Illustration of the Range of the Arc Sine Function</span></div><!--tex4ht:label?: x85-1250148 -->
<!--l. 5287--><p class="noindent" ><img 
src="asin-plot.png" alt="PIC"  
><br 
class="newline" />Just as <b><a 
href="symbols.html#x188-380865r865">sin</a></b> grabs horizontal lines and bends them into elliptical loops around the origin,
so its inverse <b><a 
href="symbols.html#x188-380125r125">asin</a></b> takes annuli and yanks them more or less horizontally straight.
Because sine is not injective, its inverse as a function cannot be surjective. This is just a
highfalutin way of saying that the range of the <b><a 
href="symbols.html#x188-380125r125">asin</a></b> function doesn&#x2019;t cover the
entire plane but only a strip <span class="math">œÄ</span> wide; arc sine as a one-to-many relation would
cover the plane with an inÔ¨Ånite number of copies of this strip side by side,
looking for all the world like the tail of a peacock with an inÔ¨Ånite number of
feathers. The imaginary axis is mapped to itself as if by <b><a 
href="symbols.html#x188-380126r126">asinh</a></b> considered as a real
function. The real axis is mapped to a bent path, turning corners at <span class="math"> ¬± œÄ‚àï2</span> (the
points to which <span class="math"> ¬± 1</span> are mapped); <span class="math"> + ‚àû</span> is mapped to <span class="math">œÄ‚àï2 ‚àí‚àû<em>i</em></span>, and <span class="math"> ‚àí‚àû</span> to
<span class="math"> ‚àí œÄ‚àï2 + ‚àû<em>i</em></span>.
                                                                          

                                                                          
<!--l. 5301--><p class="indent" >   </div><hr class="endfigure">
                                                                          

                                                                          
<!--l. 5305--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                          

                                                                          
<a 
 id="x85-1250159"></a>
                                                                          

                                                                          
<br /> <div class="caption" 
><span class="id">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ¬†12.9: </span><span  
class="content">Illustration of the Range of the Cosine Function</span></div><!--tex4ht:label?: x85-1250159 -->
<!--l. 5307--><p class="noindent" ><img 
src="cos-plot.png" alt="PIC"  
><br 
class="newline" />We are used to seeing <b><a 
href="symbols.html#x188-380297r297">cos</a></b> looking exactly like <b><a 
href="symbols.html#x188-380865r865">sin</a></b>, a wiggly ocean wave, only displaced.
Indeed the complex mapping of <b><a 
href="symbols.html#x188-380297r297">cos</a></b> is also similar to that of <b><a 
href="symbols.html#x188-380865r865">sin</a></b>, with horizontal and
vertical lines mapping to the same ellipses and hyperbolas with foci at <span class="math"> ¬± 1</span>, although
mapping to them in a diÔ¨Äerent manner, to be sure. The entire real axis is again mapped
to the segment <span class="math">[‚àí1,1]</span> of the real axis, but each half of the imaginary axis is
mapped to the real axis to the right of 1 (as if by <b><a 
href="symbols.html#x188-380298r298">cosh</a></b> considered as a real
function). Therefore <span class="math"> ¬±‚àû<em>i</em></span> both map to <span class="math"> + ‚àû</span>. The origin is mapped to 1. Whereas
<b><a 
href="symbols.html#x188-380865r865">sin</a></b> is an odd function, <b><a 
href="symbols.html#x188-380297r297">cos</a></b> is an even function; as a result <em>two</em> points in each
annulus, one the negative of the other, are mapped to the same shaded point in
this graph; the shading shown here is taken from points in the original upper
half-plane.
                                                                          

                                                                          
<!--l. 5322--><p class="indent" >   </div><hr class="endfigure">
                                                                          

                                                                          
<!--l. 5326--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                          

                                                                          
<a 
 id="x85-12501610"></a>
                                                                          

                                                                          
<br /> <div class="caption" 
><span class="id">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ¬†12.10: </span><span  
class="content">Illustration of the Range of the Arc Cosine Function</span></div><!--tex4ht:label?: x85-12501610 -->
<!--l. 5328--><p class="noindent" ><img 
src="acos-plot.png" alt="PIC"  
><br 
class="newline" />The graph of <b><a 
href="symbols.html#x188-380085r85">acos</a></b> is very much like that of <b><a 
href="symbols.html#x188-380125r125">asin</a></b>. One might think that our nervous
peacock has shuÔ¨Ñed half a step to the right, but the shading on the annuli shows that
we have instead caught the bird exactly in mid-Ô¨Çight while doing a cartwheel. This is
easily understood if we recall that <span class="math"> arccos<em>z</em> = (œÄ‚àï2) ‚àí arcsin<em>z</em></span>; negating <span class="math"> arcsin<em>z</em></span> rotates it
upside down, and adding the result to <span class="math">œÄ‚àï2</span> translates it <span class="math">œÄ‚àï2</span> to the right. The imaginary
axis is mapped upside down to the vertical line at <span class="math">œÄ‚àï2</span>. The point <span class="math"> + 1</span> is mapped to the
origin, and <span class="math"> ‚àí 1</span> to <span class="math">œÄ</span>. The image of the real axis is again cranky; <span class="math"> + ‚àû</span> is mapped to
<span class="math"> + ‚àû<em>i</em></span>, and <span class="math"> ‚àí‚àû</span> to <span class="math">œÄ ‚àí‚àû<em>i</em></span>.
                                                                          

                                                                          
<!--l. 5341--><p class="indent" >   </div><hr class="endfigure">
                                                                          

                                                                          
<!--l. 5345--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                          

                                                                          
<a 
 id="x85-12501711"></a>
                                                                          

                                                                          
<br /> <div class="caption" 
><span class="id">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ¬†12.11: </span><span  
class="content">Illustration of the Range of the Tangent Function</span></div><!--tex4ht:label?: x85-12501711 -->
<!--l. 5347--><p class="noindent" ><img 
src="tan-plot.png" alt="PIC"  
><br 
class="newline" />The usual graph of <b><a 
href="symbols.html#x188-380954r954">tan</a></b> as a real function looks like an inÔ¨Ånite chorus line of disco
dancers, left hands pointed skyward and right hands to the Ô¨Çoor. The <b><a 
href="symbols.html#x188-380954r954">tan</a></b> function is
the quotient of <b><a 
href="symbols.html#x188-380865r865">sin</a></b> and <b><a 
href="symbols.html#x188-380297r297">cos</a></b> but it doesn&#x2019;t much look like either except for having period
<span class="math">2œÄ</span>. This goes for the complex plane as well, although the swoopy loops produced
from the annulus between <span class="math">œÄ‚àï2</span> and <span class="math">2</span> look vaguely like those from the graph of
<b><a 
href="symbols.html#x188-380865r865">sin</a></b> inside out. The real axis is mapped onto itself with inÔ¨Ånite multiplicity
(period <span class="math">2œÄ</span>). The imaginary axis is mapped backwards onto <span class="math">[‚àí<em>i</em>,<em>i</em>]</span>: <span class="math"> + ‚àû<em>i</em></span> is
mapped to <span class="math"> ‚àí<em>i</em></span> and <span class="math"> ‚àí‚àû<em>i</em></span> to <span class="math"> + <em>i</em></span>. Horizontal lines below or above the real axis
become circles surrounding <span class="math"> + <em>i</em></span> or <span class="math"> ‚àí<em>i</em></span>, respectively. Vertical lines become circular
arcs from <span class="math"> + <em>i</em></span> to <span class="math"> ‚àí<em>i</em></span>; two vertical lines separated by <span class="math">(2<em>k</em> + 1)œÄ</span> for integer <span class="math"><em>k</em></span>
together become a complete circle. It seems that two arcs shown hit the real
axis at <span class="math"> ¬± œÄ‚àï2 = ¬±1.57‚Ä¶</span> but that is a coincidence; they really hit the axis at
<span class="math"> ¬± tan1 = 1.55‚Ä¶</span>.
                                                                          

                                                                          
<!--l. 5366--><p class="indent" >   </div><hr class="endfigure">
                                                                          

                                                                          
<!--l. 5370--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                          

                                                                          
<a 
 id="x85-12501812"></a>
                                                                          

                                                                          
<br /> <div class="caption" 
><span class="id">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ¬†12.12: </span><span  
class="content">Illustration of the Range of the Arc Tangent Function</span></div><!--tex4ht:label?: x85-12501812 -->
<!--l. 5372--><p class="noindent" ><img 
src="xatan-plot.png" alt="PIC"  
><br 
class="newline" />All I can say is that this peacock is a horse of another color. At Ô¨Årst glance, the
axes seem to map in the same way as for <b><a 
href="symbols.html#x188-380125r125">asin</a></b> and <b><a 
href="symbols.html#x188-380085r85">acos</a></b>, but look again: this
time it&#x2019;s the imaginary axis doing weird things. All inÔ¨Ånities map multiply to
the points <span class="math">(2<em>k</em> + 1)œÄ‚àï2</span>; within the strip of principal values we may say that
the real axis is mapped to the interval <span class="math">[‚àíœÄ‚àï2,+œÄ‚àï2]</span> and therefore <span class="math"> ‚àí‚àû</span> is
mapped to <span class="math"> ‚àí œÄ‚àï2</span> and <span class="math"> + ‚àû</span> to <span class="math"> + œÄ‚àï2</span>. The point <span class="math"> + <em>i</em></span> is mapped to <span class="math"> + ‚àû<em>i</em></span>,
and <span class="math"> ‚àí<em>i</em></span> to <span class="math"> ‚àí‚àû<em>i</em></span>, and so the imaginary axis is mapped into three pieces: the
segment <span class="math">[‚àí‚àû<em>i</em>,‚àí<em>i</em>]</span> is mapped to <span class="math">[œÄ‚àï2,œÄ‚àï2 ‚àí‚àû<em>i</em>]</span>; the segment <span class="math">[‚àí<em>i</em>,<em>i</em>]</span> is mapped
to the imaginary axis <span class="math">[‚àí‚àû<em>i</em>,+‚àû<em>i</em>]</span>; and the segment <span class="math">[+<em>i</em>,+‚àû<em>i</em>]</span> is mapped to
<span class="math">[‚àíœÄ‚àï2 + ‚àû<em>i</em>,‚àíœÄ‚àï2]</span>.
                                                                          

                                                                          
<!--l. 5386--><p class="indent" >   </div><hr class="endfigure">
                                                                          

                                                                          
<!--l. 5390--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                          

                                                                          
<a 
 id="x85-12501913"></a>
                                                                          

                                                                          
<br /> <div class="caption" 
><span class="id">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ¬†12.13:  </span><span  
class="content">Illustration  of  the  Range  of  the  Hyperbolic  Sine
Function</span></div><!--tex4ht:label?: x85-12501913 -->
<!--l. 5392--><p class="noindent" ><img 
src="sinh-plot.png" alt="PIC"  
><br 
class="newline" />It would seem that the graph of <b><a 
href="symbols.html#x188-380868r868">sinh</a></b> is merely that of <b><a 
href="symbols.html#x188-380865r865">sin</a></b> rotated 90 degrees. If
that were so, then we would have <span class="math"> sinh<em>z</em> = <em>i</em>sin<em>z</em></span>. Careful inspection of the
shading, however, reveals that this is not quite the case; in both graphs the
lightest and darkest shades, which initially are adjacent to the positive real axis,
remain adjacent to the positive real axis in both cases. To derive the graph
of <b><a 
href="symbols.html#x188-380868r868">sinh</a></b> from <b><a 
href="symbols.html#x188-380865r865">sin</a></b> we must therefore Ô¨Årst rotate the complex plane by <span class="math"> ‚àí 90</span>
degrees, then apply <b><a 
href="symbols.html#x188-380865r865">sin</a></b>, then rotate the result by 90 degrees. In other words,
<span class="math"> sinh<em>z</em> = <em>i</em>sin(‚àí<em>i</em>)<em>z</em></span>; consistently replacing <span class="math"><em>z</em></span> with <span class="math"><em>i</em><em>z</em></span> in this formula yields the familiar
identity <span class="math"> sinh<em>i</em><em>z</em> = <em>i</em>sin<em>z</em></span>.
                                                                          

                                                                          
<!--l. 5404--><p class="indent" >   </div><hr class="endfigure">
                                                                          

                                                                          
<!--l. 5408--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                          

                                                                          
<a 
 id="x85-12502014"></a>
                                                                          

                                                                          
<br /> <div class="caption" 
><span class="id">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ¬†12.14: </span><span  
class="content">Illustration of the Range of the Hyperbolic Arc Sine
Function</span></div><!--tex4ht:label?: x85-12502014 -->
<!--l. 5410--><p class="noindent" ><img 
src="asinh-plot.png" alt="PIC"  
><br 
class="newline" />The peacock sleeps. Because <span class="math"> arcsinh <em>i</em><em>z</em> = <em>i</em>arcsin<em>z</em></span>, the graph of <b><a 
href="symbols.html#x188-380126r126">asinh</a></b> is related to that
of <b><a 
href="symbols.html#x188-380125r125">asin</a></b> by pre- and post-rotations of the complex plane in the same way as for <b><a 
href="symbols.html#x188-380868r868">sinh</a></b> and
<b><a 
href="symbols.html#x188-380865r865">sin</a></b>.
                                                                          

                                                                          
<!--l. 5416--><p class="indent" >   </div><hr class="endfigure">
                                                                          

                                                                          
<!--l. 5420--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                          

                                                                          
<a 
 id="x85-12502115"></a>
                                                                          

                                                                          
<br /> <div class="caption" 
><span class="id">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ¬†12.15: </span><span  
class="content">Illustration of the Range of the Hyperbolic Cosine
Function</span></div><!--tex4ht:label?: x85-12502115 -->
<!--l. 5422--><p class="noindent" ><img 
src="cosh-plot.png" alt="PIC"  
><br 
class="newline" />The graph of <b><a 
href="symbols.html#x188-380298r298">cosh</a></b> does <em>not</em> look like that of <b><a 
href="symbols.html#x188-380297r297">cos</a></b> rotated 90 degrees; instead it looks like
that of <b><a 
href="symbols.html#x188-380297r297">cos</a></b> unrotated. That is because <span class="math"> cosh<em>i</em><em>z</em></span> is not equal to <span class="math"><em>i</em>cos<em>z</em></span>; rather,
<span class="math"> cosh<em>i</em><em>z</em> = cos<em>z</em></span>. Interpreted, that means that the shading is pre-rotated but there is no
post-rotation.
                                                                          

                                                                          
<!--l. 5430--><p class="indent" >   </div><hr class="endfigure">
                                                                          

                                                                          
<!--l. 5434--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                          

                                                                          
<a 
 id="x85-12502216"></a>
                                                                          

                                                                          
<br /> <div class="caption" 
><span class="id">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ¬†12.16: </span><span  
class="content">Illustration of the Range of the Hyperbolic Arc Cosine
Function</span></div><!--tex4ht:label?: x85-12502216 -->
<!--l. 5436--><p class="noindent" ><img 
src="acosh-plot.png" alt="PIC"  
><br 
class="newline" />Hmm‚ÄîI&#x2019;d rather not say what happened to this peacock. This feather looks a bit
mangled. Actually it is all right‚Äîthe principal value for <b><a 
href="symbols.html#x188-380086r86">acosh</a></b> is so chosen that its graph
does not look simply like a rotated version of the graph of <b><a 
href="symbols.html#x188-380085r85">acos</a></b>, but if all values were
shown, the two graphs would Ô¨Åll the plane in repeating patterns related by a
rotation.
                                                                          

                                                                          
<!--l. 5444--><p class="indent" >   </div><hr class="endfigure">
                                                                          

                                                                          
<!--l. 5448--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                          

                                                                          
<a 
 id="x85-12502317"></a>
                                                                          

                                                                          
<br /> <div class="caption" 
><span class="id">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ¬†12.17: </span><span  
class="content">Illustration of the Range of the Hyperbolic Tangent
Function</span></div><!--tex4ht:label?: x85-12502317 -->
<!--l. 5450--><p class="noindent" ><img 
src="tanh-plot.png" alt="PIC"  
><br 
class="newline" />The diagram for <b><a 
href="symbols.html#x188-380955r955">tanh</a></b> is simply that of <b><a 
href="symbols.html#x188-380954r954">tan</a></b> turned on its ear: <span class="math"><em>i</em>tan<em>z</em> = tanh<em>i</em><em>z</em></span>. The
imaginary axis is mapped onto itself with inÔ¨Ånite multiplicity (period <span class="math">2œÄ</span>), and the real
axis is mapped onto the segment <span class="math">[‚àí1,+1]</span>: <span class="math"> + ‚àû</span> is mapped to <span class="math"> + 1</span>, and <span class="math"> ‚àí‚àû</span> to <span class="math"> ‚àí 1</span>.
Vertical lines to the left or right of the real axis are mapped to circles surrounding
<span class="math"> ‚àí 1</span> or <span class="math">1</span>, respectively. Horizontal lines are mapped to circular arcs anchored
at <span class="math"> ‚àí 1</span> and <span class="math"> + 1</span>; two horizontal lines separated by a distance <span class="math">(2<em>k</em> + 1)œÄ</span> for
integer <span class="math"><em>k</em></span> are together mapped into a complete circle. How do we know these
really are circles? Well, <span class="math"> tanh<em>z</em> = ((exp2<em>z</em>) ‚àí 1)‚àï((exp2<em>z</em>) + 1)</span>, which is the
composition of the bilinear transform <span class="math">(<em>z</em> ‚àí 1)‚àï(<em>z</em> + 1)</span>, the exponential <span class="math"> exp<em>z</em></span>, and
the magniÔ¨Åcation <span class="math">2<em>z</em></span>. MagniÔ¨Åcation maps lines to lines of the same slope; the
exponential maps horizontal lines to circles and vertical lines to radial lines; and a
bilinear transform maps generalized circles (including lines) to generalized circles.
Q.E.D.
                                                                          

                                                                          
<!--l. 5469--><p class="indent" >   </div><hr class="endfigure">
                                                                          

                                                                          
<!--l. 5473--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                          

                                                                          
<a 
 id="x85-12502418"></a>
                                                                          

                                                                          
<br /> <div class="caption" 
><span class="id">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ¬†12.18:  </span><span  
class="content">Illustration  of  the  Range  of  the  Hyperbolic  Arc
Tangent Function</span></div><!--tex4ht:label?: x85-12502418 -->
<!--l. 5476--><p class="noindent" ><img 
src="really-good-atanh-plot.png" alt="PIC"  
><br 
class="newline" />A sleeping peacock of another color: <span class="math"> arctanh <em>i</em><em>z</em> = <em>i</em>arctan<em>z</em></span>.
                                                                          

                                                                          
<!--l. 5479--><p class="indent" >   </div><hr class="endfigure">
                                                                          

                                                                          
<!--l. 5483--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                          

                                                                          
<a 
 id="x85-12502519"></a>
                                                                          

                                                                          
<br /> <div class="caption" 
><span class="id">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ¬†12.19: </span><span  
class="content">Illustration of the Range of the Function <span class="math"><img 
src="clm21x.png" alt="  ------
‚àö 1 ‚àí z2"  class="sqrt" ></span></span></div><!--tex4ht:label?: x85-12502519 -->
<!--l. 5485--><p class="noindent" ><img 
src="sqrt-one-minus-sq-plot.png" alt="PIC"  
><br 
class="newline" />Here is a curious graph indeed for so simple a function! The origin is mapped to 1. The
real axis segment <span class="math">[0,1]</span> is mapped backwards (and non-linearly) into itself; the segment
<span class="math">[1,+‚àû]</span> is mapped non-linearly onto the positive imaginary axis. The negative real axis
is mapped to the same points as the positive real axis. Both halves of the imaginary axis
are mapped into <span class="math">[1,+‚àû]</span> on the real axis. Horizontal lines become vaguely vertical, and
vertical lines become vaguely horizontal. Circles centered at the origin are transformed
into Cassinian (half-)ovals; the unit circle is mapped to a (half-)lemniscate of Bernoulli.
The outermost annulus appears to have its <em>inner</em> edge at <span class="math">œÄ</span> on the real axis
and its <em>outer</em> edge at 3 on the imaginary axis, but this is another accident;
the intercept on the real axis, for example, is not really at <span class="math">œÄ ‚âà 3.14‚Ä¶</span> but at
<span class="math"><img 
src="clm22x.png" alt="‚àò ---------
  1 ‚àí (3i)2"  class="sqrt" > = <img 
src="clm23x.png" alt="‚àö ---
  10"  class="sqrt" > ‚âà 3.16‚Ä¶</span>.
                                                                          

                                                                          
<!--l. 5501--><p class="indent" >   </div><hr class="endfigure">
                                                                          

                                                                          
<!--l. 5505--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                          

                                                                          
<a 
 id="x85-12502620"></a>
                                                                          

                                                                          
<br /> <div class="caption" 
><span class="id">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ¬†12.20: </span><span  
class="content">Illustration of the Range of the Function <span class="math"><img 
src="clm24x.png" alt="  ------
‚àö 1 + z2"  class="sqrt" ></span></span></div><!--tex4ht:label?: x85-12502620 -->
<!--l. 5508--><p class="noindent" ><img 
src="sqrt-one-plus-sq-plot.png" alt="PIC"  
><br 
class="newline" />The graph of <span class="math"><em>q</em>(<em>z</em>) = <img 
src="clm25x.png" alt="‚àö ----2-
  1+ z"  class="sqrt" ></span> looks like that of <span class="math"><em>p</em>(<em>z</em>) = <img 
src="clm26x.png" alt="‚àö ----2-
  1‚àí z"  class="sqrt" ></span> except for the shading.
You might not expect <span class="math"><em>p</em></span> and <span class="math"><em>q</em></span> to be related in the same way that <b><a 
href="symbols.html#x188-380297r297">cos</a></b> and <b><a 
href="symbols.html#x188-380298r298">cosh</a></b> are,
but after a little reÔ¨Çection (or perhaps I should say, after turning it around in
one&#x2019;s mind) one can see that <span class="math"><em>q</em>(<em>i</em><em>z</em>) = <em>p</em>(<em>z</em>)</span>. This formula is indeed of exactly
the same form as <span class="math"> cosh<em>i</em><em>z</em> = cos<em>z</em></span>. The function <span class="math"><img 
src="clm27x.png" alt="‚àö -----2
  1 + z"  class="sqrt" ></span> maps both halves of
the real axis into <span class="math">[1,+‚àû]</span> on the real axis. The segments <span class="math">[0,<em>i</em>]</span> and <span class="math">[0,‚àí<em>i</em>]</span> of
the imaginary axis are each mapped backwards onto segment <span class="math">[0,1]</span> of the real
axis; <span class="math">[<em>i</em>,+‚àû<em>i</em>]</span> and <span class="math">[‚àí<em>,</em> ‚àí‚àû<em>i</em>]</span> are each mapped onto the positive imaginary axis
(but if minus zero is supported then opposite sides of the imaginary axis map
to opposite halves of the imaginary axis‚Äîfor example, <span class="math">q(+0 + 2<em>i</em>) = <img 
src="clm28x.png" alt="‚àö --
  5"  class="sqrt" ><em>i</em></span> but
<span class="math">q(‚àí0 + 2<em>i</em>) = ‚àí<img 
src="clm29x.png" alt="‚àö --
  5"  class="sqrt" ><em>i</em></span>).
                                                                          

                                                                          
<!--l. 5524--><p class="indent" >   </div><hr class="endfigure">
                                                                          

                                                                          
<div class="new">
<!--l. 5529--><p class="indent" >   Here is a sample of the PostScript code that generated Ô¨Ågure¬†<a 
href="#x85-1250071">12.1<!--tex4ht:ref: IDENTITY-PLOT --></a>, showing
the initial scaling, translation, and clipping parameters; the code for one sector of
the innermost annulus; and the code for the negative imaginary axis. Comment
lines indicate how path or boundary segments were generated separately and then
spliced (in order to allow for the places that a singularity might lurk, in which
case the generating code can ‚Äúinch up‚Äù to the problematical argument
value).
<!--l. 5539--><p class="indent" >   The size of the entire PostScript Ô¨Åle for the <b><a 
href="symbols.html#x188-380487r487">identity</a></b> function was about 68
kilobytes (2757 lines, including comments). The smallest Ô¨Åles were the plots for
<b><a 
href="symbols.html#x188-380131r131">atan</a></b> and <b><a 
href="symbols.html#x188-380132r132">atanh</a></b>, about 65 kilobytes apiece; the largest were the plots for <b><a 
href="symbols.html#x188-380865r865">sin</a></b>,
<b><a 
href="symbols.html#x188-380297r297">cos</a></b>, <b><a 
href="symbols.html#x188-380868r868">sinh</a></b>, and <b><a 
href="symbols.html#x188-380298r298">cosh</a></b>, about 138 kilobytes apiece.
<div class="lisp">
<tt>
<!--l. 5547--><p class="indent" >   <div class="tabbing">
   <br>                                    % PostScript Ô¨Åle for plot of function IDENTITY<br>
% Plot is to Ô¨Åt in a region 4.666666666666667 inches square<br>
% ¬†showing axes extending 4.1 units from the origin.<br>                          <br>
40.97560975609756 40.97560975609756 scale<br>                    4.1 4.1 translate<br>
newpath<br>                                                  ¬†¬†-4.1 -4.1 moveto<br>
¬†¬†4.1 -4.1 lineto<br>                                              ¬†¬†4.1 4.1 lineto<br>
¬†¬†-4.1 4.1 lineto<br>                                                 ¬†¬†closepath<br>
clip<br>                                     % Moby grid for function IDENTITY<br>
% Annulus 0.25 0.5 4 0.97 0.45<br>      % Sector from 4.7124 to 6.2832 (quadrant 3)<br>
newpath<br>                                                 ¬†¬†0.0 -0.25 moveto<br>
¬†¬†0.0 -0.375 lineto<br>                                          ¬†¬†%middle radial<br>
¬†¬†0.0 -0.375 lineto<br>                                           ¬†¬†0.0 -0.5 lineto<br>
¬†¬†%end radial<br>                                               ¬†¬†0.0 -0.5 lineto<br>
¬†¬†0.092 -0.4915 lineto<br>                                  ¬†¬†0.1843 -0.4648 lineto<br>
¬†¬†0.273 -0.4189 lineto<br>                                  ¬†¬†0.3536 -0.3536 lineto<br>
¬†¬†%middle circumferential<br>                             ¬†¬†0.3536 -0.3536 lineto<br>
¬†¬†0.413 -0.2818 lineto<br>                                  ¬†¬†0.4594 -0.1974 lineto<br>
¬†¬†0.4894 -0.1024 lineto<br>                                       ¬†¬†0.5 0.0 lineto<br>
¬†¬†%end circumferential<br>                                       ¬†¬†0.5 0.0 lineto<br>
¬†¬†0.375 0.0 lineto<br>                                          ¬†¬†%middle radial<br>
¬†¬†0.375 0.0 lineto<br>                                           ¬†¬†0.25 0.0 lineto<br>
                                                                          

                                                                          
¬†¬†%end radial<br>                                              ¬†¬†0.25 0.0 lineto<br>
¬†¬†0.2297 -0.0987 lineto<br>                                 ¬†¬†0.1768 -0.1768 lineto<br>
¬†¬†%middle circumferential<br>                             ¬†¬†0.1768 -0.1768 lineto<br>
¬†¬†0.0922 -0.2324 lineto<br>                                      ¬†¬†0.0 -0.25 lineto<br>
¬†¬†%end circumferential<br>                                          ¬†¬†closepath<br>
currentgray¬†¬†¬†0.45 setgray¬†¬†¬†Ô¨Åll¬†¬†¬†setgray<br>
<!--l. 5600--><p class="noindent" ></div>
</tt>
</div>
<!--l. 5601--><p class="indent" >   [2598 lines omitted] <div class="lisp"><tt><div class="tabbing">
% Vertical line from (0.0, -0.5) to (0.0, 0.0)
   <br>                                  newpath<br>                                  ¬†¬†0.0 -0.5 moveto<br>
¬†¬†0.0 0.0 lineto<br>                       0.05 setlinewidth¬†¬†¬†1 setlinecap¬†¬†stroke<br>
% Vertical line from (0.0, -0.5) to (0.0, -1.0)<br>     newpath<br>     ¬†¬†0.0 -0.5 moveto<br>
¬†¬†0.0 -1.0 lineto<br>                       0.05 setlinewidth¬†¬†¬†1 setlinecap¬†¬†stroke<br>
% Vertical line from (0.0, -2.0) to (0.0, -1.0)<br>     newpath<br>     ¬†¬†0.0 -2.0 moveto<br>
¬†¬†0.0 -1.0 lineto<br>                       0.05 setlinewidth¬†¬†¬†1 setlinecap¬†¬†stroke<br>
% Vertical line from (0.0, -2.0) to (0.0, -1.1579208923731617E77)<br>        newpath<br>
¬†¬†0.0 -2.0 moveto<br>      ¬†¬†0.0 -6.3553 lineto<br>      ¬†¬†0.0 -6.378103166302659 lineto<br>
¬†¬†0.0 -6.378103166302659 lineto<br>                ¬†¬†0.0 -6.378103166302659 lineto<br>
0.05 setlinewidth 1 setlinecap stroke<br>
<!--l. 5626--><p class="noindent" ></div>
</tt>
</div>
<!--l. 5627--><p class="indent" >   [84 lines omitted] <div class="lisp"><tt><div class="tabbing">
% End of PostScript Ô¨Åle for plot of function IDENTITY
   <br>
<!--l. 5630--><p class="noindent" ></div>
</tt>
</div>
<!--l. 5633--><p class="indent" >   Here is the program that generated the PostScript code for the graphs shown
in Ô¨Ågures¬†<a 
href="#x85-1250071">12.1<!--tex4ht:ref: IDENTITY-PLOT --></a> through¬†<a 
href="#x85-12502620">12.20<!--tex4ht:ref: LAST-PLOT --></a>. It contains a mixture of fairly general mechanisms
and <em>ad hoc</em> kludges for plotting functions of a single complex argument while
gracefully handling extremely large and small values, branch cuts, singularities,
and periodic behavior. The aim was to provide a simple user interface that
would not require the caller to provide special advice for each function to
                                                                          

                                                                          
be plotted. The Ô¨Åle for Ô¨Ågure¬†<a 
href="#x85-1250071">12.1<!--tex4ht:ref: IDENTITY-PLOT --></a>, for example, was generated by the
call <b>(picture¬†&#x2019;identity)</b>, which resulted in the writing of a Ô¨Åle named
<b>identity-plot.ps</b>.
<!--l. 5646--><p class="indent" >   The program assumes that any periodic behavior will have a period that is a
multiple of <span class="math">2œÄ</span>; that branch cuts will fall along the real or imaginary axis; and that
singularities or very large or small values will occur only at the origin, at <span class="math"> ¬± 1</span> or
<span class="math"> ¬±<em>i</em></span>, or on the boundaries of the annuli (particularly those with radius <span class="math">œÄ‚àï2</span> or <span class="math">œÄ</span>).
The central function is <b>parametric-path</b>, which accepts four arguments: two real
numbers that are the endpoints of an interval of real numbers, a function that
maps this interval into a path in the complex plane, and the function to be
plotted; the task of <b>parametric-path</b> is to generate PostScript code (a series of
<b>lineto</b> operations) that will plot an approximation to the image of the
parametric path as transformed by the function to be plotted. Each of the
functions <b>hline</b>, <b>vline</b>, <b>-hline</b>, <b>-vline</b>, <b>radial</b>, and <b>circumferential</b> takes
appropriate parameters and returns a function suitable for use as the third
argument to <b>parametric-path</b>. There is some code that defends against
errors (by using <b><a 
href="symbols.html#x188-380489r489">ignore-errors</a></b>) and against certain peculiarities of IEEE
Ô¨Çoating-point arithmetic (the code that checks for not-a-number (NaN)
results).
<!--l. 5666--><p class="indent" >   The program is oÔ¨Äered here without further comment or apology.
<div class="lisp">
<tt>
<!--l. 5672--><p class="indent" >   <div class="tabbing">
   <br>                                                       (defparameter units-to-show 4.1)<br>
(defparameter text-width-in-picas 28.0)<br> (defparameter device-pixels-per-inch 300)<br>
(defparameter pixels-per-unit<br>                  ¬†¬†(* (/ (/ text-width-in-picas 6)<br>
¬†¬†¬†¬†¬†¬†¬†¬†(* units-to-show 2))<br>                     ¬†¬†¬†¬†¬†device-pixels-per-inch))<br>
<br>                      (defparameter big (sqrt (sqrt most-positive-single-Ô¨Çoat)))<br>
(defparameter tiny (sqrt (sqrt least-positive-single-Ô¨Çoat)))<br>
<br>                                      (defparameter path-really-losing 1000.0)<br>
(defparameter path-outer-limit (* units-to-show (sqrt 2) 1.1))<br>
(defparameter path-minimal-delta (/ 10 pixels-per-unit))<br>
(defparameter path-outer-delta (* path-outer-limit 0.3))<br>
(defparameter path-relative-closeness 0.00001)<br>
(defparameter back-oÔ¨Ä-delta 0.0005)<br>
<!--l. 5691--><p class="noindent" ></div>
                                                                          

                                                                          
</tt>
</div>
<!--l. 5692--><p class="indent" >
                                                                          

                                                                          
<div class="lisp">
<tt>
<!--l. 5693--><p class="indent" >   <div class="tabbing">
(defun comment-line (stream &#x0026;rest stuÔ¨Ä)
   <br>            ¬†¬†(format stream &#x0022;~%% &#x0022;)<br>            ¬†¬†(apply #&#x2019;format stream stuÔ¨Ä)<br>
¬†¬†(format t &#x0022;~%% &#x0022;)<br>                              ¬†¬†(apply #&#x2019;format t stuÔ¨Ä))<br>
<br>                              (defun parametric-path (from to paramfn plotfn)<br>
¬†¬†(assert (and (plusp from) (plusp to)))<br>¬†¬†(Ô¨Çet ((domainval (x) (funcall paramfn x))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†(rangeval (x) (funcall plotfn (funcall paramfn x)))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†(losing (x) (or (null x)<br>¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(/= (realpart x) (realpart x))¬†¬†;NaN?<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(/= (imagpart x) (imagpart x))¬†¬†;NaN?<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(&#x003E; (abs (realpart x)) path-really-losing)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(&#x003E; (abs (imagpart x)) path-really-losing))))<br>
¬†¬†¬†¬†(when (&#x003E; to 1000.0)<br>                      ¬†¬†¬†¬†¬†¬†(let ((f0 (rangeval from))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(f1 (rangeval (+ from 1)))<br>¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(f2 (rangeval (+ from (* 2 pi))))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(f3 (rangeval (+ from 1 (* 2 pi))))<br>¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(f4 (rangeval (+ from (* 4 pi)))))<br>
¬†¬†¬†¬†¬†¬†¬†¬†(Ô¨Çet ((close (x y)<br>¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(or (&#x003C; (careful-abs (- x y)) path-minimal-delta)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(&#x003C; (careful-abs (- x y))<br>¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(* (+ (careful-abs x) (careful-abs y))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†path-relative-closeness)))))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(when (and (close f0 f2)<br>        ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(close f2 f4)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(close f1 f3)<br>¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(or (and (close f0 f1)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(close f2 f3))<br>¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(and (not (close f0 f1))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(not (close f2 f3)))))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(format t &#x0022;~&#x0026;Periodicity detected.&#x0022;)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(setq to (+ from (* (signum (- to from)) 2 pi)))))))<br>
¬†¬†¬†¬†¬†(let ((fromrange (ignore-errors (rangeval from)))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(torange (ignore-errors (rangeval to))))<br>  ¬†¬†¬†¬†¬†¬†(if (losing fromrange)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(if (losing torange)<br>                             ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†&#x2019;()<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(parametric-path (back-oÔ¨Ä from to) to paramfn plotfn))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(if (losing torange)<br>¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(parametric-path from (back-oÔ¨Ä to from) paramfn plotfn)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(expand-path (reÔ¨Åne-path (list from to) #&#x2019;rangeval)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†#&#x2019;rangeval))))))<br>
<!--l. 5739--><p class="noindent" ></div>
</tt>
</div>
<!--l. 5740--><p class="indent" >
                                                                          

                                                                          
<div class="lisp">
<tt>
<!--l. 5741--><p class="indent" >   <div class="tabbing">
(defun back-oÔ¨Ä (point other)
   <br>       ¬†¬†(if (or (&#x003E; point 10.0) (&#x003C; point 0.1))<br>       ¬†¬†¬†¬†¬†¬†(let ((sp (sqrt point)))<br>
¬†¬†¬†¬†¬†¬†¬†¬†(if (or (&#x003E; point sp other) (&#x003C; point sp other))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†sp<br>                            ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(* sp (sqrt other))))<br>
¬†¬†¬†¬†¬†¬†(+ point (* (signum (- other point)) back-oÔ¨Ä-delta))))<br>                   <br>
(defun careful-abs (z)<br>                         ¬†¬†(cond ((or (&#x003E; (realpart z) big)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(&#x003C; (realpart z) (- big))<br>      ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(&#x003E; (imagpart z) big)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(&#x003C; (imagpart z) (- big)))<br>                        ¬†¬†¬†¬†¬†¬†¬†¬†¬†big)<br>
¬†¬†¬†¬†¬†¬†¬†¬†((complexp z) (abs z))<br>   ¬†¬†¬†¬†¬†¬†¬†¬†((minusp z) (- z))<br>   ¬†¬†¬†¬†¬†¬†¬†¬†(t z)))<br>
<br>
<!--l. 5759--><p class="noindent" ></div>
</tt>
</div>
<div class="lisp">
<tt>
<!--l. 5760--><p class="indent" >   <div class="tabbing">
(defparameter max-reÔ¨Ånements 5000)
   <br>                      <br>                      (defun reÔ¨Åne-path (original-path rangevalfn)<br>
¬†¬†(Ô¨Çet ((rangeval (x) (funcall rangevalfn x)))<br>     ¬†¬†¬†¬†(let ((path original-path))<br>
¬†¬†¬†¬†¬†¬†(do ((j 0 (+ j 1)))<br>                       ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†((null (rest path)))<br>
¬†¬†¬†¬†¬†¬†¬†¬†(when (zerop (mod (+ j 1) max-reÔ¨Ånements))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(break &#x0022;Runaway path&#x0022;))<br>     ¬†¬†¬†¬†¬†¬†¬†¬†(let* ((from (Ô¨Årst path))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(to (second path))<br>¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(fromrange (rangeval from))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(torange (rangeval to))<br>¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(dist (careful-abs (- torange fromrange)))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(mid (* (sqrt from) (sqrt to)))<br>¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(midrange (rangeval mid)))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(cond ((or (and (far-out fromrange) (far-out torange))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(and (&#x003C; dist path-minimal-delta)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(&#x003C; (abs (- midrange fromrange))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†path-minimal-delta)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†;; Next test is intentionally asymmetric to<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†;;¬†¬†avoid problems with periodic functions.<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(&#x003C; (abs (- (rangeval (/ (+ to (* from 1.5))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†2.5))<br>
                                                                          

                                                                          
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†fromrange))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†path-minimal-delta)))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(pop path))<br>   ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†((= mid from) (pop path))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†((= mid to) (pop path))<br>¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(t (setf (rest path) (cons mid (rest path)))))))))<br>
¬†¬†original-path)<br>             <br>                  (defun expand-path (path rangevalfn)<br>
¬†¬†(Ô¨Çet ((rangeval (x) (funcall rangevalfn x)))<br>¬†¬†¬†¬†(let ((Ô¨Ånal-path (list (rangeval (Ô¨Årst path)))))<br>
¬†¬†¬†¬†¬†¬†(do ((p (rest path) (cdr p)))<br>                        ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†((null p)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(unless (rest Ô¨Ånal-path)<br>   ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(break &#x0022;Singleton path&#x0022;))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(reverse Ô¨Ånal-path))<br>          ¬†¬†¬†¬†¬†¬†¬†¬†(let ((v (rangeval (car p))))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(cond ((and (rest Ô¨Ånal-path)<br>¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(not (far-out v))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(not (far-out (Ô¨Årst Ô¨Ånal-path)))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(between v (Ô¨Årst Ô¨Ånal-path)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(second Ô¨Ånal-path)))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(setf (Ô¨Årst Ô¨Ånal-path) v))<br>¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†((null (rest p))¬†¬†¬†;Mustn&#x2019;t omit last point<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(push v Ô¨Ånal-path))<br>¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†((&#x003C; (abs (- v (Ô¨Årst Ô¨Ånal-path))) path-minimal-delta))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†((far-out v)<br>¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(unless (and (far-out (Ô¨Årst Ô¨Ånal-path))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(&#x003C; (abs (- v (Ô¨Årst Ô¨Ånal-path)))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†path-outer-delta))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(push (* 1.01 path-outer-limit (signum v))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†Ô¨Ånal-path)))<br>¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(t (push v Ô¨Ånal-path))))))))<br>
<br>                                                          (defun far-out (x)<br>
¬†¬†(&#x003E; (careful-abs x) path-outer-limit))<br>                                       <br>
(defparameter between-tolerance 0.000001)<br>                                   <br>
(defun between (p q r)<br>               ¬†¬†(let ((px (realpart p)) (py (imagpart p))<br>
¬†¬†¬†¬†¬†¬†¬†¬†(qx (realpart q)) (qy (imagpart q))<br>¬†¬†¬†¬†¬†¬†¬†¬†(rx (realpart r)) (ry (imagpart r)))<br>
¬†¬†¬†¬†(and (or (&#x003C;= px qx rx) (&#x003E;= px qx rx))<br>¬†¬†¬†¬†¬†¬†¬†¬†¬†(or (&#x003C;= py qy ry) (&#x003E;= py qy ry))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†(&#x003C; (abs (- (* (- qx px) (- ry qy))<br>¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(* (- rx qx) (- qy py))))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†between-tolerance))))<br>
<!--l. 5833--><p class="noindent" ></div>
</tt>
</div>
<!--l. 5834--><p class="indent" >
                                                                          

                                                                          
<div class="lisp">
<tt>
<!--l. 5835--><p class="indent" >   <div class="tabbing">
(defun circle (radius)
   <br>                                            ¬†¬†#&#x2019;(lambda (angle) (* radius (cis angle))))<br>
<br>                                                         (defun hline (imag)<br>
¬†¬†#&#x2019;(lambda (real) (complex real imag)))<br>                                    <br>
(defun vline (real)<br>                   ¬†¬†#&#x2019;(lambda (imag) (complex real imag)))<br>
<br>                                                        (defun -hline (imag)<br>
¬†¬†#&#x2019;(lambda (real) (complex (- real) imag)))<br>                                 <br>
(defun -vline (real)<br>               ¬†¬†#&#x2019;(lambda (imag) (complex real (- imag))))<br>
<br>                                                 (defun radial (phi quadrant)<br>
¬†¬†#&#x2019;(lambda (rho) (repair-quadrant (* rho (cis phi)) quadrant)))<br>
<br>                                        (defun circumferential (rho quadrant)<br>
¬†¬†#&#x2019;(lambda (phi) (repair-quadrant (* rho (cis phi)) quadrant)))<br>               <br>
;;; Quadrant is 0, 1, 2, or 3, meaning I, II, III, or IV.<br>                          <br>
(defun repair-quadrant (z quadrant)<br>    ¬†¬†(complex (* (+ (abs (realpart z)) tiny)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(case quadrant (0 1.0) (1 -1.0) (2 -1.0) (3 1.0)))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(* (+ (abs (imagpart z)) tiny)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(case quadrant (0 1.0) (1 1.0) (2 -1.0) (3 -1.0)))))<br>              <br>
(defun clamp-real (x)<br>   ¬†¬†(if (far-out x)<br>   ¬†¬†¬†¬†¬†¬†(* (signum x) path-outer-limit)<br>
¬†¬†¬†¬†¬†¬†(round-real x)))<br>                                                     <br>
(defun round-real (x)<br>                      ¬†¬†(/ (round (* x 10000.0)) 10000.0))<br>
<br>                                                      (defun round-point (z)<br>
¬†¬†(complex (round-real (realpart z)) (round-real (imagpart z))))<br>                <br>
(defparameter hiringshade 0.97)<br>                (defparameter loringshade 0.45)<br>
<br>                                               (defparameter ticklength 0.12)<br>
(defparameter smallticklength 0.09)<br>
<!--l. 5881--><p class="noindent" ></div>
</tt>
</div>
<!--l. 5882--><p class="indent" >
                                                                          

                                                                          
<div class="lisp">
<tt>
<!--l. 5883--><p class="indent" >   <div class="tabbing">
;;; This determines the pattern of lines and annuli to be drawn.
   <br>                                    (defun moby-grid (&#x0026;optional (fn &#x2019;sqrt) (stream t))<br>
¬†¬†(comment-line stream &#x0022;Moby grid for function ~S&#x0022; fn)<br>
¬†¬†(shaded-annulus 0.25 0.5 4 hiringshade loringshade fn stream)<br>
¬†¬†(shaded-annulus 0.75 1.0 8 hiringshade loringshade fn stream)<br>
¬†¬†(shaded-annulus (/ pi 2) 2.0 16 hiringshade loringshade fn stream)<br>
¬†¬†(shaded-annulus 3 pi 32 hiringshade loringshade fn stream)<br>
¬†¬†(moby-lines :horizontal 1.0 fn stream)<br> ¬†¬†(moby-lines :horizontal -1.0 fn stream)<br>
¬†¬†(moby-lines :vertical 1.0 fn stream)<br>     ¬†¬†(moby-lines :vertical -1.0 fn stream)<br>
¬†¬†(let ((tickline 0.015)<br>                               ¬†¬†¬†¬†¬†¬†¬†¬†(axisline 0.008))<br>
¬†¬†¬†¬†(Ô¨Çet ((tick (n) (straight-line (complex n ticklength)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(complex n (- ticklength))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†tickline<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†stream))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(smalltick (n) (straight-line (complex n smallticklength)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(complex n (- smallticklength))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†tickline<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†stream)))<br>
¬†¬†¬†¬†¬†¬†(comment-line stream &#x0022;Real axis&#x0022;)<br>¬†¬†¬†¬†¬†¬†(straight-line #c(-5 0) #c(5 0) axisline stream)<br>
¬†¬†¬†¬†¬†¬†(dotimes (j (Ô¨Çoor units-to-show))<br>¬†¬†¬†¬†¬†¬†¬†¬†(let ((q (+ j 1))) (tick q) (tick (- q))))<br>
¬†¬†¬†¬†¬†¬†(dotimes (j (Ô¨Çoor units-to-show (/ pi 2)))<br>¬†¬†¬†¬†¬†¬†¬†¬†(let ((q (* (/ pi 2) (+ j 1))))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(smalltick q)<br>                        ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(smalltick (- q)))))<br>
¬†¬†¬†¬†(Ô¨Çet ((tick (n) (straight-line (complex ticklength n)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(complex (- ticklength) n)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†tickline<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†stream))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(smalltick (n) (straight-line (complex smallticklength n)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(complex (- smallticklength) n)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†tickline<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†stream)))<br>
¬†¬†¬†¬†¬†¬†(comment-line stream &#x0022;Imaginary axis&#x0022;)<br>¬†¬†¬†¬†¬†¬†(straight-line #c(0 -5) #c(0 5) axisline stream)<br>
¬†¬†¬†¬†¬†¬†(dotimes (j (Ô¨Çoor units-to-show))<br>¬†¬†¬†¬†¬†¬†¬†¬†(let ((q (+ j 1))) (tick q) (tick (- q))))<br>
¬†¬†¬†¬†¬†¬†(dotimes (j (Ô¨Çoor units-to-show (/ pi 2)))<br>¬†¬†¬†¬†¬†¬†¬†¬†(let ((q (* (/ pi 2) (+ j 1))))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(smalltick q)<br>                      ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(smalltick (- q)))))))<br>
<!--l. 5929--><p class="noindent" ></div>
                                                                          

                                                                          
</tt>
</div>
<!--l. 5930--><p class="indent" >
                                                                          

                                                                          
<div class="lisp">
<tt>
<!--l. 5931--><p class="indent" >   <div class="tabbing">
(defun straight-line (from to wid stream)
   <br>
¬†¬†(format stream<br> ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†&#x0022;~%newpath¬†¬†~S ~S moveto¬†¬†~S ~S lineto¬†¬†~S ~<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†setlinewidth¬†¬†1¬†¬†setlinecap¬†¬†stroke&#x0022;<br>    ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(realpart from)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(imagpart from)<br>                          ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(realpart to)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(imagpart to)<br>                                   ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†wid))<br>
<br>
<!--l. 5941--><p class="noindent" ></div>
</tt>
</div>
<div class="lisp">
<tt>
<!--l. 5942--><p class="indent" >   <div class="tabbing">
;;; This function draws the lines for the pattern.
   <br>                                 (defun moby-lines (orientation signum plotfn stream)<br>
¬†¬†(let ((paramfn (ecase orientation<br>¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(:horizontal (if (&#x003C; signum 0) #&#x2019;-hline #&#x2019;hline))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(:vertical (if (&#x003C; signum 0) #&#x2019;-vline #&#x2019;vline)))))<br>
¬†¬†¬†¬†(Ô¨Çet ((foo (from to other wid)<br>             ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(ecase orientation<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(:horizontal<br>          ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(comment-line stream<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†&#x0022;Horizontal line from (~S, ~S) to (~S, ~S)&#x0022;<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(round-real (* signum from))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(round-real other)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(round-real (* signum to))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(round-real other)))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(:vertical<br>             ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(comment-line stream<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†&#x0022;Vertical line from (~S, ~S) to (~S, ~S)&#x0022;<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(round-real other)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(round-real (* signum from))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(round-real other)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(round-real (* signum to)))))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(postscript-path<br>                       ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†stream<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(parametric-path from<br> ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†to<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(funcall paramfn other)<br>
                                                                          

                                                                          
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†plotfn))<br>¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(postscript-penstroke stream wid)))<br>
¬†¬†¬†¬†¬†¬†(let* ((thick 0.05)<br>                           ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(thin 0.02))<br>
¬†¬†¬†¬†¬†¬†¬†¬†;; Main axis<br>                          ¬†¬†¬†¬†¬†¬†¬†¬†(foo 0.5 tiny 0.0 thick)<br>
¬†¬†¬†¬†¬†¬†¬†¬†(foo 0.5 1.0 0.0 thick)<br>                  ¬†¬†¬†¬†¬†¬†¬†¬†(foo 2.0 1.0 0.0 thick)<br>
¬†¬†¬†¬†¬†¬†¬†¬†(foo 2.0 big 0.0 thick)<br>                 ¬†¬†¬†¬†¬†¬†¬†¬†;; Parallels at 1 and -1<br>
¬†¬†¬†¬†¬†¬†¬†¬†(foo 2.0 tiny 1.0 thin)<br>                  ¬†¬†¬†¬†¬†¬†¬†¬†(foo 2.0 big 1.0 thin)<br>
¬†¬†¬†¬†¬†¬†¬†¬†(foo 2.0 tiny -1.0 thin)<br>                 ¬†¬†¬†¬†¬†¬†¬†¬†(foo 2.0 big -1.0 thin)<br>
¬†¬†¬†¬†¬†¬†¬†¬†;; Parallels at 2, 3, -2, -3<br>               ¬†¬†¬†¬†¬†¬†¬†¬†(foo tiny big 2.0 thin)<br>
¬†¬†¬†¬†¬†¬†¬†¬†(foo tiny big -2.0 thin)<br>                ¬†¬†¬†¬†¬†¬†¬†¬†(foo tiny big 3.0 thin)<br>
¬†¬†¬†¬†¬†¬†¬†¬†(foo tiny big -3.0 thin)))))<br>                                          <br>
(defun splice (p q)<br>                                    ¬†¬†(let ((v (car (last p)))<br>
¬†¬†¬†¬†¬†¬†¬†¬†(w (Ô¨Årst q)))<br>                                   ¬†¬†¬†¬†(and (far-out v)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†(far-out w)<br>            ¬†¬†¬†¬†¬†¬†¬†¬†¬†(&#x003E;= (abs (- v w)) path-outer-delta)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†;; Two far-apart far-out points.¬†¬†Try to walk around<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†;;¬†¬†outside the perimeter, in the shorter direction.<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†(let* ((pdiÔ¨Ä (phase (/ v w)))<br>¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(npoints (Ô¨Çoor (abs pdiÔ¨Ä) (asin .2)))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(delta (/ pdiÔ¨Ä (+ npoints 1)))<br>¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(incr (cis delta)))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(do ((j 0 (+ j 1))<br>¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(p (list w &#x0022;end splice&#x0022;) (cons (* (car p) incr) p)))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†((= j npoints) (cons &#x0022;start splice&#x0022; p)))))))<br>                    <br>
<!--l. 6004--><p class="noindent" ></div>
</tt>
</div>
<div class="lisp">
<tt>
<!--l. 6005--><p class="indent" >   <div class="tabbing">
;;; This function draws the annuli for the pattern.
   <br>     (defun shaded-annulus (inner outer sectors Ô¨Årstshade lastshade fn stream)<br>
¬†¬†(assert (zerop (mod sectors 4)))<br>¬†¬†(comment-line stream &#x0022;Annulus ~S ~S ~S ~S ~S&#x0022;<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(round-real inner) (round-real outer)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†sectors Ô¨Årstshade lastshade)<br>           ¬†¬†(dotimes (jj sectors)<br>
¬†¬†¬†¬†(let ((j (- sectors jj 1)))<br> ¬†¬†¬†¬†¬†¬†(let* ((lophase (+ tiny (* 2 pi (/ j sectors))))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(hiphase (* 2 pi (/ (+ j 1) sectors)))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(midphase (/ (+ lophase hiphase) 2.0))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(midradius (/ (+ inner outer) 2.0))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(quadrant (Ô¨Çoor (* j 4) sectors)))<br>¬†¬†¬†¬†¬†¬†¬†¬†(comment-line stream &#x0022;Sector from ~S to ~S (quadrant ~S)&#x0022;<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(round-real lophase)<br>¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(round-real hiphase)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†quadrant)<br>¬†¬†¬†¬†¬†¬†¬†¬†(let ((p0 (reverse (parametric-path midradius<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†inner<br>
                                                                          

                                                                          
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(radial lophase quadrant)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†fn)))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(p1 (parametric-path midradius<br>¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†outer<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(radial lophase quadrant)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†fn))<br>¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(p2 (reverse (parametric-path midphase<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†lophase<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(circumferential outer<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†quadrant)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†fn)))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(p3 (parametric-path midphase<br>¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†hiphase<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(circumferential outer quadrant)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†fn))<br>¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(p4 (reverse (parametric-path midradius<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†outer<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(radial hiphase quadrant)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†fn)))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(p5 (parametric-path midradius<br>¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†inner<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(radial hiphase quadrant)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†fn))<br>¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(p6 (reverse (parametric-path midphase<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†hiphase<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(circumferential inner<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†quadrant)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†fn)))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(p7 (parametric-path midphase<br>¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†lophase<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(circumferential inner quadrant)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†fn)))<br>¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(postscript-closed-path stream<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(append<br>      ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†p0 (splice p0 p1) &#x2019;(&#x0022;middle radial&#x0022;)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†p1 (splice p1 p2) &#x2019;(&#x0022;end radial&#x0022;)<br>¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†p2 (splice p2 p3) &#x2019;(&#x0022;middle circumferential&#x0022;)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†p3 (splice p3 p4) &#x2019;(&#x0022;end circumferential&#x0022;)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†p4 (splice p4 p5) &#x2019;(&#x0022;middle radial&#x0022;)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†p5 (splice p5 p6) &#x2019;(&#x0022;end radial&#x0022;)<br>¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†p6 (splice p6 p7) &#x2019;(&#x0022;middle circumferential&#x0022;)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†p7 (splice p7 p0) &#x2019;(&#x0022;end circumferential&#x0022;)<br>    ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†)))<br>
<!--l. 6068--><p class="noindent" ></div>
</tt>
</div>
<!--l. 6069--><p class="indent" >
                                                                          

                                                                          
<div class="lisp">
<tt>
<!--l. 6070--><p class="indent" >   <div class="tabbing">
¬†¬†¬†¬†¬†¬†¬†¬†(postscript-shade stream
   <br>             ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(/ (+ (* Ô¨Årstshade (- (- sectors 1) j))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(* lastshade j))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(- sectors 1)))))))<br>
<br>                                     (defun postscript-penstroke (stream wid)<br>
¬†¬†(format stream &#x0022;~%~S setlinewidth¬†¬†¬†1 setlinecap¬†¬†stroke&#x0022;<br> ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†wid))<br>
<br>                                       (defun postscript-shade (stream shade)<br>
¬†¬†(format stream &#x0022;~%currentgray¬†¬†¬†~S setgray¬†¬†¬†Ô¨Åll¬†¬†¬†setgray&#x0022;<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†shade))<br>        <br>            (defun postscript-closed-path (stream path)<br>
¬†¬†(unless (every #&#x2019;far-out (remove-if-not #&#x2019;numberp path))<br>
¬†¬†¬†¬†(postscript-raw-path stream path)<br>  ¬†¬†¬†¬†(format stream &#x0022;~%¬†¬†closepath&#x0022;)))<br>
<br>                                         (defun postscript-path (stream path)<br>
¬†¬†(unless (every #&#x2019;far-out (remove-if-not #&#x2019;numberp path))<br>
¬†¬†¬†¬†(postscript-raw-path stream path)))<br>
<br>                    ;;; Print a path as a series of PostScript &#x0022;lineto&#x0022; commands.<br>
(defun postscript-raw-path (stream path)<br>       ¬†¬†(format stream &#x0022;~%newpath&#x0022;)<br>
¬†¬†(let ((fmt &#x0022;~%¬†¬†~S ~S moveto&#x0022;))<br>                      ¬†¬†¬†¬†(dolist (pt path)<br>
¬†¬†¬†¬†¬†¬†(cond ((stringp pt)<br>      ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(format stream &#x0022;~%¬†¬†%~A&#x0022; pt))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(t (format stream<br>                 ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†fmt<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(clamp-real (realpart pt))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(clamp-real (imagpart pt)))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(setq fmt &#x0022;~%¬†¬†~S ~S lineto&#x0022;))))))<br>
<br>                           ;;; DeÔ¨Ånitions of functions to be plotted that are not<br>
;;; standard Common Lisp functions.<br>                                         <br>
(defun one-plus-over-one-minus (x) (/ (+ 1 x) (- 1 x)))<br>                        <br>
(defun one-minus-over-one-plus (x) (/ (- 1 x) (+ 1 x)))<br>                        <br>
(defun sqrt-square-minus-one (x) (sqrt (- 1 (* x x))))<br>                          <br>
(defun sqrt-one-plus-square (x) (sqrt (+ 1 (* x x))))<br>
<!--l. 6116--><p class="noindent" ></div>
</tt>
</div>
<!--l. 6117--><p class="indent" >
                                                                          

                                                                          
<div class="lisp">
<tt>
<!--l. 6118--><p class="indent" >   <div class="tabbing">
;;; Because X3J13 voted for a new deÔ¨Ånition of the atan function,
   <br>                  ;;; the following deÔ¨Ånition was used in place of the atan function<br>
;;; provided by the Common Lisp implementation I was using.<br>                  <br>
(defun good-atan (x)<br>                          ¬†¬†(/ (- (log (+ 1 (* x #c(0 1))))<br>
¬†¬†¬†¬†¬†¬†¬†¬†(log (- 1 (* x #c(0 1)))))<br>                             ¬†¬†¬†¬†¬†#c(0 2)))<br>
<br>                ;;; Because the Ô¨Årst edition had an erroneous deÔ¨Ånition of atanh,<br>
;;; the following deÔ¨Ånition was used in place of the atanh function<br>
;;; provided by the Common Lisp implementation I was using.<br>                  <br>
(defun really-good-atanh (x)<br>                              ¬†¬†(/ (- (log (+ 1 x))<br>
¬†¬†¬†¬†¬†¬†¬†¬†(log (- 1 x)))<br>                                              ¬†¬†¬†¬†¬†2))<br>
<br>
<!--l. 6136--><p class="noindent" ></div>
</tt>
</div>
<div class="lisp">
<tt>
<!--l. 6137--><p class="indent" >   <div class="tabbing">
;;; This is the main procedure that is intended to be called by a user.
   <br>                                                    (defun picture (&#x0026;optional (fn #&#x2019;sqrt))<br>
¬†¬†(with-open-Ô¨Åle (stream (concatenate &#x2019;string<br>¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(string-downcase (string fn))<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†&#x0022;-plot.ps&#x0022;)<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†:direction :output)<br>
¬†¬†¬†¬†(format stream &#x0022;% PostScript Ô¨Åle for plot of function ~S~%&#x0022; fn)<br>
¬†¬†¬†¬†(format stream &#x0022;% Plot is to Ô¨Åt in a region ~S inches square~%&#x0022;<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†(/ text-width-in-picas 6.0))<br>                  ¬†¬†¬†¬†(format stream<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†&#x0022;%¬†¬†showing axes extending ~S units from the origin.~%&#x0022;<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†units-to-show)<br>¬†¬†¬†¬†(let ((scaling (/ (* text-width-in-picas 12) (* units-to-show 2))))<br>
¬†¬†¬†¬†¬†¬†(format stream &#x0022;~%~S ~:*~S scale&#x0022; scaling))<br>
¬†¬†¬†¬†(format stream &#x0022;~%~S ~:*~S translate&#x0022; units-to-show)<br>
¬†¬†¬†¬†(format stream &#x0022;~%newpath&#x0022;)<br>¬†¬†¬†¬†(format stream &#x0022;~%¬†¬†~S ~S moveto&#x0022; (- units-to-show) (- units-to-show))<br>
¬†¬†¬†¬†(format stream &#x0022;~%¬†¬†~S ~S lineto&#x0022; units-to-show (- units-to-show))<br>
¬†¬†¬†¬†(format stream &#x0022;~%¬†¬†~S ~S lineto&#x0022; units-to-show units-to-show)<br>
¬†¬†¬†¬†(format stream &#x0022;~%¬†¬†~S ~S lineto&#x0022; (- units-to-show) units-to-show)<br>
                                                                          

                                                                          
¬†¬†¬†¬†(format stream &#x0022;~%¬†¬†closepath&#x0022;)<br>           ¬†¬†¬†¬†(format stream &#x0022;~%clip&#x0022;)<br>
¬†¬†¬†¬†(moby-grid fn stream)<br>                                ¬†¬†¬†¬†(format stream<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†&#x0022;~%% End of PostScript Ô¨Åle for plot of function ~S&#x0022;<br>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†fn)<br>                                       ¬†¬†¬†¬†(terpri stream)))<br>
<!--l. 6165--><p class="noindent" ></div>
</tt>
</div>
</div>
                                                                          

                                                                          
<!--l. 6169--><p class="indent" >   <div id="bottomlinks">&#x003C;<a 
href="clmse69.html" >–î–∞–ª–µ–µ</a>&#x003E;&#x003C;<a 
href="clmse67.html" >–ù–∞–∑–∞–¥</a>&#x003E;&#x003C;<a 
href="clmse67.html#tailclmse67.html" >–ù–∞–∑–∞–¥-–∏-–≤–Ω–∏–∑</a>&#x003E;&#x003C;<a 
href="clmse68.html" >–í-–Ω–∞—á–∞–ª–æ</a>&#x003E;&#x003C;<a 
href="number.html#clmse68.html" >–ù–∞–≤–µ—Ä—Ö</a>&#x003E;<br> &lt;<a href="../index.html">–ì–ª–∞–≤–Ω–∞—è</a>&gt; &lt;<a href="symbols.html">–°–∏–º–≤–æ–ª—ã</a>&gt;</div><a 
 id="tailclmse68.html"></a>
 
</body></html> 
